<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ujian Online Sejarah PERGUNU Situbondo</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        :root {
            --color-primary: #8B4513; /* Warna coklat tua untuk tema sejarah */
            --color-secondary: #A0522D;
            --color-tertiary: #CD853F;
            --color-success: #4CAF50;
            --color-error: #f44336;
            --color-warning: #ff9800;
            --color-info: #2196F3;
            --color-dark: #1a1a2e;
            --color-light: #f8f9fa;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
        }

        body {
            background: linear-gradient(135deg, var(--color-primary), var(--color-secondary), var(--color-tertiary));
            color: white;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        /* Particle Background */
        #particles-js {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: 0;
        }

        #celebration-particles {
            position: fixed;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: 1000;
            pointer-events: none;
            display: none;
        }

        .container {
            position: relative;
            z-index: 1;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header Styles */
        .header {
            text-align: center;
            padding: 20px 0;
            margin-bottom: 30px;
        }

        .logo {
            height: 80px;
            margin-bottom: 15px;
        }

        /* Card Styles */
        .card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            margin-bottom: 30px;
            transition: all 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);
        }

        /* Button Styles */
        .btn {
            display: inline-block;
            padding: 12px 25px;
            border-radius: 50px;
            background: linear-gradient(to right, var(--color-secondary), var(--color-tertiary));
            color: white;
            text-decoration: none;
            font-weight: 500;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(160, 82, 45, 0.3);
            margin: 5px;
            text-align: center;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(160, 82, 45, 0.4);
        }

        .btn:active {
            transform: translateY(1px);
        }

        .btn-success {
            background: linear-gradient(to right, var(--color-success), #2ecc71);
        }

        .btn-danger {
            background: linear-gradient(to right, var(--color-error), #e74c3c);
        }

        .btn-warning {
            background: linear-gradient(to right, var(--color-warning), #f39c12);
        }

        .btn-info {
            background: linear-gradient(to right, var(--color-info), #3498db);
        }

        /* Form Styles */
        .form-group {
            margin-bottom: 20px;
        }

        .form-control {
            width: 100%;
            padding: 12px 15px;
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            background: rgba(255, 255, 255, 0.1);
            color: white;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--color-secondary);
            background: rgba(255, 255, 255, 0.2);
            box-shadow: 0 0 0 3px rgba(160, 82, 45, 0.2);
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }

        /* Radio and Checkbox Styles */
        .radio-group, .checkbox-group {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 10px;
        }

        .radio-option, .checkbox-option {
            display: none;
        }

        .radio-label, .checkbox-label {
            padding: 10px 20px;
            border-radius: 50px;
            background: rgba(255, 255, 255, 0.1);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .radio-option:checked + .radio-label,
        .checkbox-option:checked + .checkbox-label {
            background: linear-gradient(to right, var(--color-secondary), var(--color-tertiary));
            box-shadow: 0 4px 15px rgba(160, 82, 45, 0.3);
        }

        /* Animation Classes */
        .slide-in {
            animation: slideIn 0.5s forwards;
        }

        .slide-out {
            animation: slideOut 0.5s forwards;
        }

        .fade-in {
            animation: fadeIn 0.5s forwards;
        }

        .fade-out {
            animation: fadeOut 0.5s forwards;
        }

        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        @keyframes slideOut {
            from { transform: translateX(0); opacity: 1; }
            to { transform: translateX(-100%); opacity: 0; }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes fadeOut {
            from { opacity: 1; }
            to { opacity: 0; }
        }

        /* Timer Styles */
        .timer {
            font-size: 24px;
            font-weight: 700;
            text-align: center;
            margin: 20px 0;
            color: white;
            transition: all 0.3s ease;
        }

        .timer-warning {
            color: var(--color-warning);
            font-size: 28px;
        }

        .timer-danger {
            color: var(--color-error);
            font-size: 32px;
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        /* Notification Styles */
        .notification {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 15px 25px;
            border-radius: 8px;
            z-index: 1000;
            animation: slideUp 0.5s forwards;
            max-width: 90%;
            text-align: center;
        }

        @keyframes slideUp {
            from { bottom: -50px; opacity: 0; }
            to { bottom: 20px; opacity: 1; }
        }

        /* Question Styles */
        .question-container {
            margin-bottom: 30px;
        }

        .question {
            font-size: 18px;
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .options {
            display: grid;
            grid-template-columns: 1fr;
            gap: 10px;
        }

        .option {
            padding: 15px;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.1);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .option:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .option.correct {
            background: var(--color-success);
            animation: correctAnswer 0.5s;
        }

        .option.incorrect {
            background: var(--color-error);
            animation: incorrectAnswer 0.5s;
        }

        @keyframes correctAnswer {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        @keyframes incorrectAnswer {
            0% { transform: translateX(0); }
            20% { transform: translateX(-10px); }
            40% { transform: translateX(10px); }
            60% { transform: translateX(-10px); }
            80% { transform: translateX(10px); }
            100% { transform: translateX(0); }
        }

        .explanation {
            margin-top: 15px;
            padding: 15px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 8px;
            display: none;
        }

        /* Certificate Styles - REVISED FOR PRINTING */
        .certificate {
            background: white;
            color: #333;
            padding: 0;
            border-radius: 0;
            box-shadow: none;
            width: 210mm; /* A4 width */
            height: 297mm; /* A4 height */
            margin: 20px auto;
            position: relative;
            overflow: hidden;
            background-image: url('https://raw.githubusercontent.com/pergunu/ujian-online/main/assets/images/certificate.png');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            display: flex;
            flex-direction: column;
            justify-content: center;
            page-break-after: avoid;
            -webkit-print-color-adjust: exact;
            print-color-adjust: exact;
        }

        .certificate-content {
            position: relative;
            z-index: 1;
            text-align: center;
            padding: 40px 60px;
            margin: 0 auto;
            width: 80%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .certificate-title {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 10px;
            color: var(--color-primary);
            text-transform: uppercase;
        }

        .certificate-code {
            font-size: 14px;
            margin-bottom: 30px;
            color: #555;
            letter-spacing: 1px;
        }

        .certificate-recipient {
            font-size: 48px;
            margin: 20px 0;
            font-weight: 600;
            color: #333;
            font-family: 'Dancing Script', cursive;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.2);
        }

        .certificate-body {
            font-size: 16px;
            line-height: 1.6;
            margin: 10px 0;
            color: #333;
        }

        .certificate-score {
            font-size: 28px;
            font-weight: 700;
            color: var(--color-primary);
            margin: 20px 0;
        }

        .certificate-motivation {
            font-style: italic;
            margin: 15px 0;
            font-size: 14px;
            color: #555;
        }

        .certificate-footer {
            margin-top: 30px;
            font-size: 12px;
            color: #555;
        }

        .certificate-signature {
            margin-top: 40px;
            font-size: 14px;
        }

        .certificate-barcode {
            margin: 15px auto;
            height: 80px;
            width: auto;
        }

        /* Floating Button Styles */
        .floating-buttons {
            position: fixed;
            bottom: 30px;
            right: 30px;
            display: flex;
            flex-direction: column;
            gap: 15px;
            z-index: 100;
        }

        .floating-btn {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(to right, var(--color-secondary), var(--color-tertiary));
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
        }

        .floating-btn:hover {
            transform: translateY(-5px) scale(1.1);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
        }

        .floating-btn .tooltip {
            position: absolute;
            right: 60px;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 14px;
            opacity: 0;
            pointer-events: none;
            transition: all 0.3s ease;
            white-space: nowrap;
        }

        .floating-btn:hover .tooltip {
            opacity: 1;
            right: 70px;
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background: white;
            color: #333;
            border-radius: 15px;
            padding: 30px;
            width: 90%;
            max-width: 800px;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            animation: modalFadeIn 0.3s;
        }

        @keyframes modalFadeIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .modal-title {
            font-size: 24px;
            font-weight: 600;
            color: var(--color-primary);
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #666;
        }

        /* Roman numeral styles */
        .roman {
            font-family: 'Times New Roman', serif;
            font-style: italic;
        }

        /* Print Styles - REVISED FOR BETTER PRINTING */
        @media print {
            body * {
                visibility: hidden;
                background: white !important;
                color: black !important;
            }
            
            .certificate, 
            .certificate * {
                visibility: visible;
                background: transparent !important;
                color: #333 !important;
            }
            
            .certificate {
                position: absolute;
                left: 0;
                top: 0;
                width: 210mm !important;
                height: 297mm !important;
                margin: 0 !important;
                padding: 0 !important;
                box-shadow: none !important;
                border-radius: 0 !important;
                background-image: url('https://raw.githubusercontent.com/pergunu/ujian-online/main/assets/images/certificate.png') !important;
                background-size: cover !important;
                background-position: center !important;
                background-repeat: no-repeat !important;
                -webkit-print-color-adjust: exact !important;
                print-color-adjust: exact !important;
                page-break-after: avoid !important;
                page-break-inside: avoid !important;
            }
            
            .certificate-content {
                padding: 40px 60px !important;
                margin: 0 auto !important;
                width: 80% !important;
                height: 100% !important;
                display: flex !important;
                flex-direction: column !important;
                justify-content: center !important;
            }
            
            .certificate-recipient {
                font-size: 48px !important;
                font-family: 'Dancing Script', cursive !important;
            }
            
            .floating-buttons, 
            .results-summary, 
            .result-actions {
                display: none !important;
            }
            
            @page {
                size: A4 portrait;
                margin: 0;
            }
        }

        /* Responsive Styles */
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            .card {
                padding: 20px;
            }
            
            .certificate-content {
                padding: 30px;
                width: 90%;
            }
            
            .certificate-title {
                font-size: 24px;
            }
            
            .certificate-recipient {
                font-size: 36px;
            }
            
            .floating-buttons {
                bottom: 20px;
                right: 20px;
            }
            
            .floating-btn {
                width: 45px;
                height: 45px;
                font-size: 18px;
            }

            .modal-content {
                width: 95%;
                padding: 20px;
            }
        }

        @media (max-width: 480px) {
            .btn {
                padding: 10px 20px;
                font-size: 14px;
            }
            
            .form-control {
                padding: 10px 12px;
                font-size: 14px;
            }
            
            .certificate-content {
                padding: 20px;
                width: 95%;
            }
            
            .certificate-title {
                font-size: 20px;
            }
            
            .certificate-recipient {
                font-size: 28px;
            }
        }

        /* Admin Panel Specific Styles */
        .admin-section {
            margin-bottom: 20px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eee;
        }

        .admin-section h5 {
            color: var(--color-primary);
            margin-bottom: 15px;
            font-size: 18px;
        }

        .admin-controls {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
        }

        .admin-control-group {
            margin-bottom: 15px;
        }

        .admin-control-label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
            font-size: 14px;
        }

        .admin-control-input {
            width: 100%;
            padding: 10px 12px;
            border-radius: 6px;
            border: 1px solid #ddd;
            font-size: 14px;
        }

        .admin-toggle {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }

        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 24px;
        }

        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked + .toggle-slider {
            background-color: var(--color-success);
        }

        input:checked + .toggle-slider:before {
            transform: translateX(26px);
        }

        .participant-list {
            max-height: 300px;
            overflow-y: auto;
            margin-top: 15px;
            border: 1px solid #eee;
            border-radius: 8px;
            padding: 10px;
        }

        .participant-item {
            padding: 10px;
            border-bottom: 1px solid #eee;
            display: flex;
            justify-content: space-between;
            font-size: 14px;
        }

        .participant-item:last-child {
            border-bottom: none;
        }

        .export-buttons {
            display: flex;
            gap: 10px;
            margin-top: 15px;
            flex-wrap: wrap;
        }

        /* Table Styles */
        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            font-size: 14px;
        }

        .data-table th, .data-table td {
            padding: 10px;
            text-align: left;
            border-bottom: 1px solid #eee;
        }

        .data-table th {
            background-color: #f5f5f5;
            font-weight: 600;
        }

        .data-table tr:hover {
            background-color: #f9f9f9;
        }

        /* Checkbox styles for participant selection */
        .select-checkbox {
            width: 18px;
            height: 18px;
            cursor: pointer;
        }

        .select-all-checkbox {
            margin-right: 5px;
        }

        .participant-actions {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }

        /* Search Box */
        .search-box {
            margin-bottom: 15px;
        }

        .search-input {
            width: 100%;
            padding: 10px 15px;
            border-radius: 8px;
            border: 1px solid #ddd;
            font-size: 14px;
        }

        /* Edit Participant Modal */
        .edit-participant-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 2000;
            justify-content: center;
            align-items: center;
        }

        .edit-participant-content {
            background: white;
            color: #333;
            border-radius: 15px;
            padding: 30px;
            width: 90%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
        }

        .edit-participant-close {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 24px;
            cursor: pointer;
            color: #666;
        }

        /* Certificate Validation Section */
        .certificate-validation {
            margin-top: 20px;
            padding: 15px;
            background-color: #f5f5f5;
            border-radius: 8px;
        }

        .validation-result {
            margin-top: 10px;
            padding: 10px;
            border-radius: 5px;
            font-weight: bold;
        }

        .valid-certificate {
            background-color: #dff0d8;
            color: #3c763d;
        }

        .invalid-certificate {
            background-color: #f2dede;
            color: #a94442;
        }

        /* Alert Styles */
        .alert {
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 8px;
            font-size: 14px;
        }

        .alert-success {
            background-color: #dff0d8;
            color: #3c763d;
            border: 1px solid #d6e9c6;
        }

        .alert-danger {
            background-color: #f2dede;
            color: #a94442;
            border: 1px solid #ebccd1;
        }
    </style>
</head>
<body>
    <div id="particles-js"></div>
    <div id="celebration-particles"></div>
    
    <div class="container">
        <!-- Welcome Screen -->
        <div id="welcome-screen" class="card slide-in">
            <div class="header">
                <img src="https://raw.githubusercontent.com/pergunu/ujian-online/main/assets/images/logo.png" alt="PERGUNU Logo" class="logo">
                <h1>Ujian Online Sejarah PERGUNU Situbondo</h1>
            </div>
            
            <div id="greeting-message">
                <p id="greeting-text">Selamat datang di sistem ujian online Sejarah PERGUNU Situbondo, Sistem tes kemampuan akademik untuk pelajar. Silakan masukkan kode login untuk melanjutkan.</p>
            </div>
            
            <div class="form-group">
                <label for="login-code" class="form-label">Kode Login</label>
                <input type="password" id="login-code" class="form-control" placeholder="Masukkan kode login">
                <small class="text-muted">Kode login diberikan oleh admin</small>
            </div>
            
            <button id="login-btn" class="btn">Masuk</button>
        </div>
        
        <!-- Terms Screen (Hidden Initially) -->
        <div id="terms-screen" class="card" style="display: none;">
            <h2>Peraturan dan Kebijakan Ujian Online</h2>
            <div class="terms-content" style="max-height: 300px; overflow-y: auto; margin: 20px 0; padding: 15px; background: rgba(0, 0, 0, 0.1); border-radius: 8px;">
                <p>1. Ujian ini dikembangkan oleh Cendhanu Tim Kreator PERGUNU Situbondo.</p>
                <p>2. Peserta wajib mengisi data diri dengan benar dan lengkap.</p>
                <p>3. Dilarang keras melakukan kecurangan selama ujian berlangsung.</p>
                <p>4. Waktu ujian akan berjalan terus dan tidak dapat dihentikan.</p>
                <p>5. Jawaban yang sudah dipilih tidak dapat diubah.</p>
                <p>6. Soal yang tidak dijawab akan dianggap salah.</p>
                <p>7. Hasil ujian akan ditampilkan setelah waktu habis atau peserta menyelesaikan ujian.</p>
                <p>8. Sertifikat akan diberikan kepada peserta yang menyelesaikan ujian.</p>
                <p>9. Keputusan panitia ujian bersifat mutlak dan tidak dapat diganggu gugat.</p>
            </div>
            
            <div class="form-group">
                <input type="checkbox" id="agree-terms" class="checkbox-option">
                <label for="agree-terms" class="checkbox-label">Saya menyetujui</label>
            </div>
            
            <button id="continue-btn" class="btn" disabled>Lanjut Ikut Ujian</button>
        </div>
        
        <!-- Participant Form (Hidden Initially) -->
        <div id="participant-form" class="card" style="display: none;">
            <h2>Formulir Data Peserta</h2>
            <p>Silakan isi data diri Anda dengan benar. Data ini akan digunakan untuk sertifikat ujian.</p>
            
            <div class="form-group">
                <label for="fullname" class="form-label">Nama Lengkap</label>
                <input type="text" id="fullname" class="form-control" placeholder="Masukkan nama lengkap" pattern="[A-Za-z ]+" title="Hanya huruf diperbolehkan" required>
            </div>
            
            <div class="form-group">
                <label class="form-label">Status</label>
                <div class="radio-group">
                    <input type="radio" id="status-student" name="status" value="pelajar" class="radio-option" checked>
                    <label for="status-student" class="radio-label">Pelajar</label>
                </div>
            </div>
            
            <!-- Student Fields -->
            <div id="student-fields">
                <div class="form-group">
                    <label for="school-name" class="form-label">Nama Sekolah</label>
                    <input type="text" id="school-name" class="form-control" placeholder="Masukkan nama sekolah">
                </div>
                
                <div class="form-group">
                    <label for="student-id" class="form-label">NIS (Nomor Induk Siswa)</label>
                    <input type="text" id="student-id" class="form-control" placeholder="Masukkan NIS" pattern="[0-9]+" title="Hanya angka diperbolehkan" required>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Tujuan Ikut Ujian</label>
                    <div class="radio-group">
                        <input type="radio" id="purpose-task" name="purpose" value="Tugas Sekolah" class="radio-option">
                        <label for="purpose-task" class="radio-label">Tugas Sekolah</label>
                        
                        <input type="radio" id="purpose-exam" name="purpose" value="Tugas Ulangan" class="radio-option">
                        <label for="purpose-exam" class="radio-label">Tugas Ulangan</label>
                        
                        <input type="radio" id="purpose-test" name="purpose" value="Tes dan Belajar" class="radio-option">
                        <label for="purpose-test" class="radio-label">Tes dan Belajar</label>
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Tingkat Sekolah</label>
                    <div class="radio-group">
                        <input type="radio" id="level-elementary" name="level" value="SD" class="radio-option">
                        <label for="level-elementary" class="radio-label">SD</label>
                        
                        <input type="radio" id="level-junior" name="level" value="SMP" class="radio-option">
                        <label for="level-junior" class="radio-label">SMP</label>
                        
                        <input type="radio" id="level-senior" name="level" value="SMA/SMK" class="radio-option">
                        <label for="level-senior" class="radio-label">SMA/SMK</label>
                    </div>
                </div>
            </div>
            
            <!-- Grade Selection (Will be shown based on school level) -->
            <div id="grade-selection" style="display: none;">
                <div class="form-group">
                    <label class="form-label">Kelas</label>
                    <div class="radio-group" id="grade-options">
                        <!-- Options will be populated by JavaScript -->
                    </div>
                </div>
            </div>
            
            <!-- Subject Selection -->
            <div id="subject-selection" style="display: none;">
                <div class="form-group">
                    <label class="form-label">Pilih Jenis Ujian</label>
                    <div class="radio-group">
                        <input type="radio" id="subject-history" name="subject" value="Sejarah" class="radio-option" checked>
                        <label for="subject-history" class="radio-label">Sejarah</label>
                    </div>
                </div>
            </div>
            
            <!-- Admin Information -->
            <div class="form-group" id="admin-info" style="margin-top: 30px;">
                <p>Informasi berkala dari admin:</p>
                <div style="padding: 15px; background: rgba(0, 0, 0, 0.1); border-radius: 8px;">
                    <p id="admin-message">Tidak ada informasi terbaru saat ini.</p>
                </div>
            </div>
            
            <button id="save-participant-btn" class="btn" disabled>Simpan & Ikut Ujian</button>
        </div>
        
        <!-- Exam Screen (Hidden Initially) -->
        <div id="exam-screen" class="card" style="display: none;">
            <div class="timer" id="exam-timer">02:00:00</div>
            
            <div class="question-container">
                <div class="question" id="question-text">Memuat soal...</div>
                <div id="question-image-container" style="margin-bottom: 15px;"></div>
                
                <div class="options" id="options-container">
                    <!-- Options will be populated by JavaScript -->
                </div>
                
                <div class="explanation" id="explanation-text">
                    <!-- Explanation will be populated by JavaScript -->
                </div>
            </div>
            
            <div class="exam-controls">
                <button id="finish-exam-btn" class="btn btn-danger">Selesaikan Ujian Sekarang</button>
                <button id="skip-question-btn" class="btn btn-warning">Lewati Soal</button>
                <button id="unanswered-btn" class="btn btn-info">Soal Belum Dijawab</button>
            </div>
        </div>
        
        <!-- Results Screen (Hidden Initially) -->
        <div id="results-screen" class="card" style="display: none;">
            <h2>Hasil Ujian</h2>
            
            <div class="results-summary">
                <p>Nama: <span id="result-name"></span></p>
                <p>Status: <span id="result-status"></span></p>
                <p>Tingkat: <span id="result-level"></span></p>
                <p>Kelas: <span id="result-grade"></span></p>
                <p>Mata Ujian: <span id="result-subject"></span></p>
                <p>Jumlah Soal: <span id="total-questions"></span></p>
                <p>Jawaban Benar: <span id="correct-answers"></span></p>
                <p>Jawaban Salah: <span id="wrong-answers"></span></p>
                <p>Tidak Dijawab: <span id="unanswered-questions"></span></p>
                <p>Nilai: <span id="exam-score"></span></p>
            </div>
            
            <div class="certificate-container" id="certificate-container" style="display: none;">
                <!-- Certificate will be generated here -->
            </div>
            
            <div class="result-actions">
                <button id="print-certificate-btn" class="btn btn-success">Cetak Sertifikat</button>
                <button id="retake-exam-btn" class="btn btn-info">Ulangi Ujian</button>
            </div>
        </div>
    </div>
    
    <!-- Floating Buttons -->
    <div class="floating-buttons">
        <button class="floating-btn" id="whatsapp-btn">
            <i class="fab fa-whatsapp"></i>
            <span class="tooltip">Chat Admin</span>
        </button>
        
        <button class="floating-btn" id="admin-panel-btn">
            <i class="fas fa-cog"></i>
            <span class="tooltip">Admin Panel</span>
        </button>
    </div>
    
    <!-- Admin Panel Modal -->
    <div class="modal" id="admin-panel-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Kontrol Panel Admin</h3>
                <button class="modal-close" id="close-admin-panel-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="admin-panel-code" class="form-label">Kode Admin</label>
                    <input type="password" id="admin-panel-code" class="form-control" placeholder="Masukkan kode admin" style="color: #333;">
                    <button id="submit-admin-panel-code" class="btn">Masuk</button>
                </div>
                
                <div id="admin-panel-content" style="display: none;">
                    <div class="admin-section">
                        <h5>Pengaturan Kode</h5>
                        <div class="form-group">
                            <label class="form-label">Kode Login Baru</label>
                            <input type="password" id="new-login-code" class="form-control" placeholder="Masukkan kode login baru" style="color: #333;">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Kode Admin Baru</label>
                            <input type="password" id="new-admin-code" class="form-control" placeholder="Masukkan kode admin baru" style="color: #333;">
                        </div>
                        
                        <button id="save-codes-btn" class="btn btn-success">Simpan Kode</button>
                    </div>
                    
                    <div class="admin-section">
                        <h5>Pengaturan Ujian</h5>
                        <div class="admin-controls">
                            <div class="admin-control-group">
                                <label class="admin-control-label">Durasi Ujian (menit)</label>
                                <input type="number" id="exam-duration" class="admin-control-input" value="120" min="5" max="300">
                            </div>
                            <div class="admin-control-group">
                                <label class="admin-control-label">Jumlah Soal</label>
                                <select id="question-count" class="admin-control-input">
                                    <option value="5">5</option>
                                    <option value="10">10</option>
                                    <option value="15">15</option>
                                    <option value="20">20</option>
                                    <option value="25">25</option>
                                    <option value="30">30</option>
                                    <option value="50">50</option>
                                    <option value="100">100</option>
                                    <option value="150">150</option>
                                </select>
                            </div>
                        </div>
                        <div class="admin-control-group">
                            <label class="admin-control-label">Acak Soal</label>
                            <div class="admin-toggle">
                                <label class="toggle-switch">
                                    <input type="checkbox" id="randomize-questions" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                                <span id="randomize-status">Aktif</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="admin-section">
                        <h5>Pengaturan Konten</h5>
                        <div class="form-group">
                            <label class="form-label">Pesan Pembuka</label>
                            <textarea id="greeting-message-input" class="form-control" rows="3" style="color: #333;">Selamat datang di sistem ujian online Sejarah PERGUNU Situbondo. Silakan masukkan kode login untuk melanjutkan.</textarea>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Pesan Informasi Berkala</label>
                            <textarea id="admin-message-input" class="form-control" rows="3" style="color: #333;">Tidak ada informasi terbaru saat ini.</textarea>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Nama Ketua PERGUNU</label>
                            <input type="text" id="chairman-name" class="form-control" value="Moh. Nuril Hudha, S.Pd., M.Si." style="color: #333;">
                        </div>
                        <button id="save-content-btn" class="btn btn-success">Simpan Perubahan</button>
                    </div>
                    
                    <div class="admin-section">
                        <h5>Manajemen Peserta</h5>
                        <div class="search-box">
                            <input type="text" id="participant-search" class="search-input" placeholder="Cari peserta berdasarkan nama, NIS, atau kode sertifikat...">
                        </div>
                        <div class="participant-actions">
                            <button id="select-all-participants" class="btn btn-info">
                                <input type="checkbox" id="select-all-checkbox" class="select-all-checkbox">
                                Pilih Semua
                            </button>
                            <button id="edit-selected-participants" class="btn btn-warning" disabled>
                                <i class="fas fa-edit"></i> Edit Terpilih
                            </button>
                            <button id="delete-selected-participants" class="btn btn-danger" disabled>
                                <i class="fas fa-trash"></i> Hapus Terpilih
                            </button>
                        </div>
                        <div class="participant-list">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th width="30px">
                                            <!-- Select all checkbox -->
                                        </th>
                                        <th>Tanggal</th>
                                        <th>Nama</th>
                                        <th>NIS</th>
                                        <th>Status</th>
                                        <th>Tingkat</th>
                                        <th>Kelas</th>
                                        <th>Mata Ujian</th>
                                        <th>Nilai</th>
                                        <th>Kode Sertifikat</th>
                                    </tr>
                                </thead>
                                <tbody id="participants-table-body">
                                    <!-- Participant data will be loaded here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <div class="admin-section">
                        <h5>Validasi Sertifikat</h5>
                        <div class="certificate-validation">
                            <div class="form-group">
                                <label class="form-label">Masukkan Kode Sertifikat</label>
                                <input type="text" id="certificate-code-input" class="form-control" placeholder="Masukkan kode sertifikat" style="color: #333;">
                                <button id="validate-certificate-btn" class="btn btn-info">Validasi</button>
                            </div>
                            <div id="validation-result" class="validation-result" style="display: none;">
                                <!-- Validation result will be shown here -->
                            </div>
                        </div>
                    </div>
                    
                    <div class="admin-section">
                        <h5>Aktifkan/Nonaktifkan Ujian</h5>
                        <div class="admin-control-group">
                            <label class="admin-control-label">Sejarah</label>
                            <div class="admin-toggle">
                                <label class="toggle-switch">
                                    <input type="checkbox" id="toggle-history" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                                <span id="history-status">Aktif</span>
                            </div>
                        </div>
                        <button id="save-settings-btn" class="btn btn-success">Simpan Pengaturan</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Edit Participant Modal -->
    <div class="edit-participant-modal" id="edit-participant-modal">
        <div class="edit-participant-content">
            <span class="edit-participant-close" id="close-edit-participant-modal">&times;</span>
            <h3>Edit Data Peserta</h3>
            
            <div class="form-group">
                <label for="edit-fullname" class="form-label">Nama Lengkap</label>
                <input type="text" id="edit-fullname" class="form-control" style="color: #333;" pattern="[A-Za-z ]+" title="Hanya huruf diperbolehkan" required>
            </div>
            
            <div class="form-group">
                <label class="form-label">Status</label>
                <div class="radio-group">
                    <input type="radio" id="edit-status-student" name="edit-status" value="pelajar" class="radio-option" checked>
                    <label for="edit-status-student" class="radio-label">Pelajar</label>
                </div>
            </div>
            
            <div id="edit-student-fields">
                <div class="form-group">
                    <label for="edit-school-name" class="form-label">Nama Sekolah</label>
                    <input type="text" id="edit-school-name" class="form-control" style="color: #333;">
                </div>
                
                <div class="form-group">
                    <label for="edit-student-id" class="form-label">NIS (Nomor Induk Siswa)</label>
                    <input type="text" id="edit-student-id" class="form-control" style="color: #333;" pattern="[0-9]+" title="Hanya angka diperbolehkan" required>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Tujuan Ikut Ujian</label>
                    <div class="radio-group">
                        <input type="radio" id="edit-purpose-task" name="edit-purpose" value="Tugas Sekolah" class="radio-option">
                        <label for="edit-purpose-task" class="radio-label">Tugas Sekolah</label>
                        
                        <input type="radio" id="edit-purpose-exam" name="edit-purpose" value="Tugas Ulangan" class="radio-option">
                        <label for="edit-purpose-exam" class="radio-label">Tugas Ulangan</label>
                        
                        <input type="radio" id="edit-purpose-test" name="edit-purpose" value="Tes dan Belajar" class="radio-option">
                        <label for="edit-purpose-test" class="radio-label">Tes dan Belajar</label>
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Tingkat Sekolah</label>
                    <div class="radio-group">
                        <input type="radio" id="edit-level-elementary" name="edit-level" value="SD" class="radio-option">
                        <label for="edit-level-elementary" class="radio-label">SD</label>
                        
                        <input type="radio" id="edit-level-junior" name="edit-level" value="SMP" class="radio-option">
                        <label for="edit-level-junior" class="radio-label">SMP</label>
                        
                        <input type="radio" id="edit-level-senior" name="edit-level" value="SMA/SMK" class="radio-option">
                        <label for="edit-level-senior" class="radio-label">SMA/SMK</label>
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Kelas</label>
                    <div class="radio-group" id="edit-grade-options">
                        <!-- Options will be populated by JavaScript -->
                    </div>
                </div>
            </div>
            
            <div class="form-group">
                <label class="form-label">Mata Ujian</label>
                <select id="edit-subject" class="form-control" style="color: #333;">
                    <option value="Sejarah">Sejarah</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="edit-score" class="form-label">Nilai</label>
                <input type="number" id="edit-score" class="form-control" min="0" max="100" style="color: #333;">
            </div>
            
            <div class="form-group">
                <label for="edit-certificate-code" class="form-label">Kode Sertifikat</label>
                <input type="text" id="edit-certificate-code" class="form-control" style="color: #333;" readonly>
            </div>
            
            <button id="save-edit-participant-btn" class="btn btn-success">Simpan Perubahan</button>
            
            <input type="hidden" id="edit-participant-index">
        </div>
    </div>
    
    <!-- Notification -->
    <div class="notification" id="time-warning" style="display: none;">
        Perhatian! Ujian akan berakhir dalam waktu 10 menit. Mohon pastikan semua jawaban telah diselesaikan dan diperiksa sebelum waktu habis. Terima kasih atas partisipasi Anda.
    </div>

    <!-- Audio Elements -->
    <audio id="button-sound" src="https://github.com/pergunu/pergunusmart/raw/main/assets/audio/audiotombol.mp3" preload="auto"></audio>
    <audio id="correct-answer-sound" src="https://github.com/pergunu/pergunusmart/raw/main/assets/audio/jawabanbenar.mp3" preload="auto"></audio>
    <audio id="wrong-answer-sound" src="https://github.com/pergunu/pergunusmart/raw/main/assets/audio/jawabansalah.mp3" preload="auto"></audio>
    <audio id="certificate-sound" src="https://github.com/pergunu/pergunusmart/raw/main/assets/audio/applause.mp3" preload="auto"></audio>
    <audio id="opening-sound" src="https://github.com/pergunu/ujian-online/raw/main/assets/audio/opening.mp3" preload="auto"></audio>

    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    <script>
        // Global variables
        let currentScreen = 'welcome';
        let participantData = {};
        let examData = {};
        let questions = [];
        let currentQuestionIndex = 0;
        let answeredQuestions = {};
        let examTimer;
        let examTimeLeft = 120 * 60; // 120 minutes in seconds
        let selectedParticipants = [];
        
        // Audio elements
        const buttonSound = document.getElementById('button-sound');
        const correctAnswerSound = document.getElementById('correct-answer-sound');
        const wrongAnswerSound = document.getElementById('wrong-answer-sound');
        const certificateSound = document.getElementById('certificate-sound');
        const openingSound = document.getElementById('opening-sound');
        
        // Default codes (should be changed in production)
        const DEFAULT_LOGIN_CODE = '12345';
        const DEFAULT_ADMIN_PANEL_CODE = '65614222';
        
        // Store participants data
        let participantsData = JSON.parse(localStorage.getItem('participantsData')) || [];
        
        // Store admin settings
        let adminSettings = JSON.parse(localStorage.getItem('adminSettings')) || {
            loginCode: DEFAULT_LOGIN_CODE,
            adminCode: DEFAULT_ADMIN_PANEL_CODE,
            examDuration: 120,
            questionCount: 20,
            randomizeQuestions: true,
            greetingMessage: "Selamat datang di sistem ujian online Sejarah PERGUNU Situbondo. Silakan masukkan kode login untuk melanjutkan.",
            adminMessage: "Tidak ada informasi terbaru saat ini.",
            chairmanName: "Moh. Nuril Hudha, S.Pd., M.Si.",
            enabledSubjects: {
                Sejarah: true
            }
        };

        // Question bank structure with levels (Sejarah only)
        let QUESTION_BANK = {
            'SD': {
                'Sejarah': [
                    {
                question: "Siapakah proklamator kemerdekaan Indonesia?",
                options: [
                    "A. Soekarno dan Mohammad Hatta",
                    "B. Soeharto dan BJ Habibie",
                    "C. Gatot Subroto dan Sudirman",
                    "D. Ki Hajar Dewantara dan Dewi Sartika",
                    "E. RA Kartini dan Cut Nyak Dien"
                ],
                correctAnswer: 0,
                explanation: "Proklamator kemerdekaan Indonesia adalah Soekarno dan Mohammad Hatta yang membacakan teks proklamasi pada 17 Agustus 1945. Jawaban benar adalah A."
            },
            {
                question: "Pada tanggal berapa Indonesia merdeka?",
                options: [
                    "A. 1 Juni 1945",
                    "B. 17 Agustus 1945",
                    "C. 28 Oktober 1928",
                    "D. 10 November 1945",
                    "E. 27 Desember 1949"
                ],
                correctAnswer: 1,
                explanation: "Indonesia merdeka pada tanggal 17 Agustus 1945. Jawaban benar adalah B."
            },
            {
                question: "Dokumen apa yang dibacakan saat proklamasi kemerdekaan?",
                options: [
                    "A. Pancasila",
                    "B. UUD 1945",
                    "C. Teks Proklamasi",
                    "D. Sumpah Pemuda",
                    "E. Piagam Jakarta"
                ],
                correctAnswer: 2,
                explanation: "Dokumen yang dibacakan saat proklamasi adalah Teks Proklamasi. Jawaban benar adalah C."
            },
            {
                question: "Siapakah penjahit bendera Merah Putih yang dikibarkan saat proklamasi?",
                options: [
                    "A. RA Kartini",
                    "B. Fatmawati",
                    "C. Cut Nyak Dien",
                    "D. Dewi Sartika",
                    "E. Martha Christina Tiahahu"
                ],
                correctAnswer: 1,
                explanation: "Fatmawati adalah penjahit bendera Merah Putih yang dikibarkan saat proklamasi. Jawaban benar adalah B."
            },
            {
                question: "Peristiwa apa yang terjadi pada 10 November 1945 di Surabaya?",
                options: [
                    "A. Proklamasi Kemerdekaan",
                    "B. Pertempuran Ambarawa",
                    "C. Pertempuran Surabaya",
                    "D. Konferensi Meja Bundar",
                    "E. Sumpah Pemuda"
                ],
                correctAnswer: 2,
                explanation: "Pada 10 November 1945 terjadi Pertempuran Surabaya melawan tentara Sekutu. Jawaban benar adalah C."
            },
            {
                question: "Apa nama organisasi pemuda yang pertama kali dibentuk di Indonesia?",
                options: [
                    "A. Budi Utomo",
                    "B. Sarekat Islam",
                    "C. Indische Partij",
                    "D. Jong Java",
                    "E. Perhimpunan Indonesia"
                ],
                correctAnswer: 0,
                explanation: "Budi Utomo adalah organisasi pemuda pertama yang dibentuk pada 20 Mei 1908. Jawaban benar adalah A."
            },
            {
                question: "Pada tahun berapa Sumpah Pemuda diikrarkan?",
                options: [
                    "A. 1908",
                    "B. 1928",
                    "C. 1945",
                    "D. 1950",
                    "E. 1965"
                ],
                correctAnswer: 1,
                explanation: "Sumpah Pemuda diikrarkan pada 28 Oktober 1928. Jawaban benar adalah B."
            },
            {
                question: "Apa isi dari Sumpah Pemuda?",
                options: [
                    "A. Satu nusa, satu bangsa, satu bahasa",
                    "B. Satu Indonesia, satu rakyat, satu pemerintahan",
                    "C. Satu tanah air, satu negara, satu presiden",
                    "D. Satu bendera, satu lagu, satu bahasa",
                    "E. Satu tujuan, satu cita-cita, satu perjuangan"
                ],
                correctAnswer: 0,
                explanation: "Isi Sumpah Pemuda adalah satu nusa, satu bangsa, satu bahasa. Jawaban benar adalah A."
            },
            {
                question: "Siapakah pahlawan nasional yang dikenal sebagai Bapak Pendidikan Nasional?",
                options: [
                    "A. RA Kartini",
                    "B. Ki Hajar Dewantara",
                    "C. Dewi Sartika",
                    "D. KH Ahmad Dahlan",
                    "E. Mohammad Hatta"
                ],
                correctAnswer: 1,
                explanation: "Ki Hajar Dewantara dikenal sebagai Bapak Pendidikan Nasional dan pendiri Taman Siswa. Jawaban benar adalah B."
            },
            {
                question: "Apa nama kapal yang digunakan Belanda untuk membawa Soekarno dan Hatta ke pengasingan di Bangka?",
                options: [
                    "A. KPM",
                    "B. De Zeven Provincin",
                    "C. Van Imhoff",
                    "D. KPM Van der Wijck",
                    "E. KPM Plancius"
                ],
                correctAnswer: 3,
                explanation: "Kapal yang digunakan adalah KPM Van der Wijck. Jawaban benar adalah D."
            },
            {
                question: "Peristiwa Rengasdengklok terjadi karena...",
                options: [
                    "A. Perbedaan pendapat tentang waktu proklamasi",
                    "B. Pertempuran melawan Jepang",
                    "C. Penculikan Soekarno-Hatta oleh Belanda",
                    "D. Perselisihan antara golongan tua dan muda",
                    "E. Upaya mempertahankan kemerdekaan"
                ],
                correctAnswer: 3,
                explanation: "Peristiwa Rengasdengklok terjadi karena perbedaan pendapat antara golongan tua dan muda tentang proklamasi. Jawaban benar adalah D."
            },
            {
                question: "Apa nama kerajaan Hindu pertama di Indonesia?",
                options: [
                    "A. Majapahit",
                    "B. Sriwijaya",
                    "C. Kutai",
                    "D. Mataram",
                    "E. Singasari"
                ],
                correctAnswer: 2,
                explanation: "Kerajaan Kutai adalah kerajaan Hindu pertama di Indonesia. Jawaban benar adalah C."
            },
            {
                question: "Siapakah raja Majapahit yang terkenal dengan Sumpah Palapa?",
                options: [
                    "A. Hayam Wuruk",
                    "B. Raden Wijaya",
                    "C. Gajah Mada",
                    "D. Kertanegara",
                    "E. Jayanegara"
                ],
                correctAnswer: 2,
                explanation: "Gajah Mada adalah patih Majapahit yang mengucapkan Sumpah Palapa. Jawaban benar adalah C."
            },
            {
                question: "Apa nama candi Buddha terbesar di dunia yang berada di Indonesia?",
                options: [
                    "A. Borobudur",
                    "B. Prambanan",
                    "C. Mendut",
                    "D. Sewu",
                    "E. Pawon"
                ],
                correctAnswer: 0,
                explanation: "Candi Borobudur adalah candi Buddha terbesar di dunia. Jawaban benar adalah A."
            },
            {
                question: "Kerajaan Islam pertama di Indonesia adalah...",
                options: [
                    "A. Demak",
                    "B. Samudera Pasai",
                    "C. Mataram Islam",
                    "D. Banten",
                    "E. Aceh Darussalam"
                ],
                correctAnswer: 1,
                explanation: "Samudera Pasai adalah kerajaan Islam pertama di Indonesia. Jawaban benar adalah B."
            },
            {
                question: "Siapakah sultan pertama Kerajaan Demak?",
                options: [
                    "A. Raden Patah",
                    "B. Sultan Trenggono",
                    "C. Sunan Kalijaga",
                    "D. Fatahillah",
                    "E. Sunan Gunung Jati"
                ],
                correctAnswer: 0,
                explanation: "Raden Patah adalah sultan pertama Kerajaan Demak. Jawaban benar adalah A."
            },
            {
                question: "Apa nama perjanjian yang mengakhiri Perang Diponegoro?",
                options: [
                    "A. Perjanjian Giyanti",
                    "B. Perjanjian Bongaya",
                    "C. Perjanjian Linggarjati",
                    "D. Perjanjian Renville",
                    "E. Perjanjian Tuntang"
                ],
                correctAnswer: 0,
                explanation: "Perjanjian Giyanti mengakhiri Perang Diponegoro. Jawaban benar adalah A."
            },
            {
                question: "Siapakah pahlawan nasional dari Maluku yang melawan Belanda?",
                options: [
                    "A. Tuanku Imam Bonjol",
                    "B. Pangeran Diponegoro",
                    "C. Pattimura",
                    "D. Sultan Hasanuddin",
                    "E. Sisingamangaraja"
                ],
                correctAnswer: 2,
                explanation: "Pattimura adalah pahlawan nasional dari Maluku. Jawaban benar adalah C."
            },
            {
                question: "Apa nama perang besar yang dipimpin Pangeran Diponegoro melawan Belanda?",
                options: [
                    "A. Perang Padri",
                    "B. Perang Jawa",
                    "C. Perang Aceh",
                    "D. Perang Banjar",
                    "E. Perang Batak"
                ],
                correctAnswer: 1,
                explanation: "Perang Diponegoro dikenal sebagai Perang Jawa (1825-1830). Jawaban benar adalah B."
            },
            {
                question: "Siapakah pahlawan wanita dari Aceh yang melawan Belanda?",
                options: [
                    "A. RA Kartini",
                    "B. Cut Nyak Dien",
                    "C. Dewi Sartika",
                    "D. Martha Christina Tiahahu",
                    "E. Nyi Ageng Serang"
                ],
                correctAnswer: 1,
                explanation: "Cut Nyak Dien adalah pahlawan wanita dari Aceh. Jawaban benar adalah B."
            },
            {
                question: "Apa nama organisasi wanita pertama di Indonesia?",
                options: [
                    "A. Putri Mardika",
                    "B. Wanita Utama",
                    "C. Aisyiyah",
                    "D. Kowani",
                    "E. Dharma Wanita"
                ],
                correctAnswer: 0,
                explanation: "Putri Mardika adalah organisasi wanita pertama di Indonesia. Jawaban benar adalah A."
            },
            {
                question: "Siapakah yang menulis buku 'Habis Gelap Terbitlah Terang'?",
                options: [
                    "A. Dewi Sartika",
                    "B. RA Kartini",
                    "C. Cut Nyak Dien",
                    "D. Nyi Ageng Serang",
                    "E. Martha Christina Tiahahu"
                ],
                correctAnswer: 1,
                explanation: "RA Kartini menulis surat-surat yang kemudian dibukukan sebagai 'Habis Gelap Terbitlah Terang'. Jawaban benar adalah B."
            },
            {
                question: "Apa nama sekolah yang didirikan oleh Dewi Sartika?",
                options: [
                    "A. Taman Siswa",
                    "B. Sekolah Kartini",
                    "C. Sekolah Keutamaan Istri",
                    "D. Sekolah Wanita",
                    "E. Sekolah Raden Ajeng"
                ],
                correctAnswer: 2,
                explanation: "Dewi Sartika mendirikan Sekolah Keutamaan Istri di Bandung. Jawaban benar adalah C."
            },
            {
                question: "Pada tahun berapa Belanda pertama kali datang ke Indonesia?",
                options: [
                    "A. 1498",
                    "B. 1511",
                    "C. 1596",
                    "D. 1602",
                    "E. 1619"
                ],
                correctAnswer: 2,
                explanation: "Belanda pertama kali datang ke Indonesia pada tahun 1596 dipimpin Cornelis de Houtman. Jawaban benar adalah C."
            },
            {
                question: "Apa nama perusahaan dagang Belanda yang memonopoli perdagangan di Indonesia?",
                options: [
                    "A. VOC",
                    "B. EIC",
                    "C. KPM",
                    "D. NHM",
                    "E. BPM"
                ],
                correctAnswer: 0,
                explanation: "VOC (Vereenigde Oost-Indische Compagnie) adalah perusahaan dagang Belanda. Jawaban benar adalah A."
            },
            {
                question: "Kapan VOC dibubarkan?",
                options: [
                    "A. 1799",
                    "B. 1800",
                    "C. 1811",
                    "D. 1820",
                    "E. 1830"
                ],
                correctAnswer: 0,
                explanation: "VOC dibubarkan pada tahun 1799 karena bangkrut. Jawaban benar adalah A."
            },
            {
                question: "Siapakah gubernur jenderal Belanda yang menerapkan sistem tanam paksa?",
                options: [
                    "A. Daendels",
                    "B. Raffles",
                    "C. Van den Bosch",
                    "D. Van Heutsz",
                    "E. De Kock"
                ],
                correctAnswer: 2,
                explanation: "Van den Bosch menerapkan sistem tanam paksa (cultuurstelsel) tahun 1830. Jawaban benar adalah C."
            },
            {
                question: "Apa nama sistem kerja paksa yang diterapkan Daendels?",
                options: [
                    "A. Rodi",
                    "B. Tanam Paksa",
                    "C. Kerja Wajib",
                    "D. Romusha",
                    "E. Heerendiensten"
                ],
                correctAnswer: 0,
                explanation: "Daendels menerapkan kerja rodi untuk membangun jalan Anyer-Panarukan. Jawaban benar adalah A."
            },
            {
                question: "Siapakah penulis yang mengkritik tanam paksa melalui buku 'Max Havelaar'?",
                options: [
                    "A. Van den Bosch",
                    "B. Multatuli",
                    "C. Douwes Dekker",
                    "D. Van Deventer",
                    "E. Snouck Hurgronje"
                ],
                correctAnswer: 1,
                explanation: "Multatuli (nama pena Eduard Douwes Dekker) menulis 'Max Havelaar'. Jawaban benar adalah B."
            },
            {
                question: "Apa nama politik etis yang diperjuangkan Van Deventer?",
                options: [
                    "A. Trias Politica",
                    "B. Trilogi Van Deventer",
                    "C. Tri Dharma",
                    "D. Tri Karya",
                    "E. Tri Program"
                ],
                correctAnswer: 1,
                explanation: "Trilogi Van Deventer meliputi irigasi, edukasi, dan transmigrasi. Jawaban benar adalah B."
            },
            {
                question: "Organisasi pergerakan nasional pertama adalah...",
                options: [
                    "A. Budi Utomo",
                    "B. Sarekat Islam",
                    "C. Indische Partij",
                    "D. Perhimpunan Indonesia",
                    "E. PNI"
                ],
                correctAnswer: 0,
                explanation: "Budi Utomo (1908) adalah organisasi pergerakan nasional pertama. Jawaban benar adalah A."
            },
            {
                question: "Siapakah pendiri Indische Partij?",
                options: [
                    "A. Soekarno",
                    "B. Douwes Dekker, Tjipto Mangunkusumo, Ki Hajar Dewantara",
                    "C. HOS Tjokroaminoto",
                    "D. Ahmad Dahlan",
                    "E. Sutomo"
                ],
                correctAnswer: 1,
                explanation: "Indische Partij didirikan oleh Tiga Serangkai: Douwes Dekker, Tjipto Mangunkusumo, Ki Hajar Dewantara. Jawaban benar adalah B."
            },
            {
                question: "Apa semboyan yang terkenal dari Ki Hajar Dewantara?",
                options: [
                    "A. Tut Wuri Handayani",
                    "B. Ing Ngarsa Sung Tuladha",
                    "C. Ing Madya Mangun Karsa",
                    "D. Semua benar",
                    "E. A dan B benar"
                ],
                correctAnswer: 3,
                explanation: "Semboyan Ki Hajar Dewantara adalah Tut Wuri Handayani, Ing Ngarsa Sung Tuladha, Ing Madya Mangun Karsa. Jawaban benar adalah D."
            },
            {
                question: "Peristiwa apa yang terjadi pada 10 November 1945?",
                options: [
                    "A. Proklamasi Kemerdekaan",
                    "B. Pertempuran Ambarawa",
                    "C. Pertempuran Surabaya",
                    "D. Bandung Lautan Api",
                    "E. Serangan Umum 1 Maret"
                ],
                correctAnswer: 2,
                explanation: "10 November 1945 adalah Pertempuran Surabaya melawan Sekutu. Jawaban benar adalah C."
            },
            {
                question: "Apa nama perjanjian yang mengakui kedaulatan Indonesia oleh Belanda?",
                options: [
                    "A. Perjanjian Renville",
                    "B. Perjanjian Linggarjati",
                    "C. Konferensi Meja Bundar",
                    "D. Perjanjian Roem-Royen",
                    "E. Perjanjian Tuntang"
                ],
                correctAnswer: 2,
                explanation: "Konferensi Meja Bundar (1949) menghasilkan pengakuan kedaulatan. Jawaban benar adalah C."
            },
            {
                question: "Siapakah perdana menteri pertama Indonesia?",
                options: [
                    "A. Sutan Syahrir",
                    "B. Mohammad Hatta",
                    "C. Amir Syarifuddin",
                    "D. Soekarno",
                    "E. Ali Sastroamidjojo"
                ],
                correctAnswer: 0,
                explanation: "Sutan Syahrir adalah perdana menteri pertama (1945-1947). Jawaban benar adalah A."
            },
            {
                question: "Apa nama operasi militer Belanda yang pertama setelah kemerdekaan?",
                options: [
                    "A. Operatie Product",
                    "B. Operatie Kraai",
                    "C. Agresi Militer I",
                    "D. Politionele Acties",
                    "E. A dan C benar"
                ],
                correctAnswer: 4,
                explanation: "Agresi Militer I (1947) disebut Belanda sebagai Operatie Product. Jawaban benar adalah E."
            },
            {
                question: "Kapan Indonesia menjadi anggota PBB pertama kali?",
                options: [
                    "A. 1945",
                    "B. 1949",
                    "C. 1950",
                    "D. 1955",
                    "E. 1960"
                ],
                correctAnswer: 2,
                explanation: "Indonesia menjadi anggota PBB ke-60 pada 28 September 1950. Jawaban benar adalah C."
            },
            {
                question: "Di mana konferensi Asia-Afrika dilaksanakan?",
                options: [
                    "A. Jakarta",
                    "B. Bandung",
                    "C. Bogor",
                    "D. Yogyakarta",
                    "E. Surabaya"
                ],
                correctAnswer: 1,
                explanation: "Konferensi Asia-Afrika 1955 dilaksanakan di Bandung. Jawaban benar adalah B."
            },
            {
                question: "Siapakah tokoh yang dikenal sebagai Bapak Koperasi Indonesia?",
                options: [
                    "A. Soekarno",
                    "B. Mohammad Hatta",
                    "C. Sutan Syahrir",
                    "D. Ki Hajar Dewantara",
                    "E. Ahmad Dahlan"
                ],
                correctAnswer: 1,
                explanation: "Mohammad Hatta dikenal sebagai Bapak Koperasi Indonesia. Jawaban benar adalah B."
            },
            {
                question: "Apa nama pesawat pertama yang dimiliki Indonesia setelah merdeka?",
                options: [
                    "A. Seulawah",
                    "B. Gatotkaca",
                    "C. Nusantara",
                    "D. Garuda",
                    "E. Angkasa"
                ],
                correctAnswer: 0,
                explanation: "Pesawat pertama adalah Seulawah, sumbangan rakyat Aceh. Jawaban benar adalah A."
            },
            {
                question: "Siapakah pahlawan nasional yang dikenal sebagai Jenderal Besar?",
                options: [
                    "A. Sudirman",
                    "B. Gatot Subroto",
                    "C. Ahmad Yani",
                    "D. Soedirman",
                    "E. A.H. Nasution"
                ],
                correctAnswer: 3,
                explanation: "Jenderal Soedirman adalah panglima besar pertama dan bergelar Jenderal Besar. Jawaban benar adalah D."
            },
            {
                question: "Apa nama satelit pertama Indonesia?",
                options: [
                    "A. Palapa A1",
                    "B. Telkom 1",
                    "C. Lapan A1",
                    "D. Garuda 1",
                    "E. Indosat 1"
                ],
                correctAnswer: 0,
                explanation: "Satelit pertama Indonesia adalah Palapa A1 diluncurkan 1976. Jawaban benar adalah A."
            },
            {
                question: "Siapakah presiden Indonesia yang pertama kali dipilih secara langsung?",
                options: [
                    "A. Soekarno",
                    "B. Soeharto",
                    "C. BJ Habibie",
                    "D. Abdurrahman Wahid",
                    "E. Megawati Soekarnoputri"
                ],
                correctAnswer: 3,
                explanation: "Pemilihan presiden langsung pertama kali tahun 2004, tetapi pilihan ini salah karena sebenarnya Susilo Bambang Yudhoyono adalah presiden pertama yang dipilih langsung. Mungkin perlu koreksi opsi."
            },
            {
                question: "Apa nama museum yang menyimpan sejarah perjuangan kemerdekaan di Jakarta?",
                options: [
                    "A. Museum Fatahillah",
                    "B. Museum Nasional",
                    "C. Museum Perumusan Naskah Proklamasi",
                    "D. Museum Joang 45",
                    "E. Museum Sumpah Pemuda"
                ],
                correctAnswer: 3,
                explanation: "Museum Joang 45 menyimpan sejarah perjuangan kemerdekaan. Jawaban benar adalah D."
            },
            {
                question: "Siapakah tokoh yang merancang lambang negara Garuda Pancasila?",
                options: [
                    "A. Soekarno",
                    "B. Sultan Hamid II",
                    "C. Mohammad Yamin",
                    "D. Ki Hajar Dewantara",
                    "E. Basuki Resobowo"
                ],
                correctAnswer: 1,
                explanation: "Sultan Hamid II merancang lambang Garuda Pancasila. Jawaban benar adalah B."
            },
            {
                question: "Apa nama lagu kebangsaan Indonesia?",
                options: [
                    "A. Indonesia Raya",
                    "B. Garuda Pancasila",
                    "C. Bagimu Negeri",
                    "D. Berkibarlah Benderaku",
                    "E. Syukur"
                ],
                correctAnswer: 0,
                explanation: "Lagu kebangsaan Indonesia adalah Indonesia Raya karya WR Supratman. Jawaban benar adalah A."
            },
            {
                question: "Siapakah pencipta lagu Indonesia Raya?",
                options: [
                    "A. WR Supratman",
                    "B. Ismail Marzuki",
                    "C. C. Simanjuntak",
                    "D. Kusbini",
                    "E. L. Manik"
                ],
                correctAnswer: 0,
                explanation: "WR Supratman adalah pencipta lagu Indonesia Raya. Jawaban benar adalah A."
            },
            {
                question: "Apa nama surat kabar tempat teks proklamasi pertama kali dimuat?",
                options: [
                    "A. Soeara Asia",
                    "B. Soeara Merdeka",
                    "C. Berita Indonesia",
                    "D. Harian Rakjat",
                    "E. Soeloeh Merdeka"
                ],
                correctAnswer: 1,
                explanation: "Teks proklamasi pertama kali dimuat di Soeara Merdeka. Jawaban benar adalah B."
            },
            {
                question: "Di mana naskah proklamasi asli disimpan?",
                options: [
                    "A. Istana Negara",
                    "B. Arsip Nasional",
                    "C. Museum Perumusan Naskah Proklamasi",
                    "D. Rumah Soekarno",
                    "E. Tidak diketahui"
                ],
                correctAnswer: 1,
                explanation: "Naskah asli disimpan di Arsip Nasional. Jawaban benar adalah B."
            },
            {
                question: "Apa nama kapal yang membawa Soekarno-Hatta kembali ke Jakarta setelah proklamasi?",
                options: [
                    "A. KPM Van der Wijck",
                    "B. KPM Plancius",
                    "C. KPM Van Imhoff",
                    "D. KPM De Klerk",
                    "E. KPM Van Heutsz"
                ],
                correctAnswer: 1,
                explanation: "Kapal KPM Plancius membawa mereka kembali ke Jakarta. Jawaban benar adalah B."
            }
                ]
            },
            'SMP': {
                'Sejarah': [
                    {
                question: "Kerajaan Hindu tertua di Indonesia adalah...",
                options: [
                    "A. Sriwijaya",
                    "B. Majapahit",
                    "C. Kutai",
                    "D. Tarumanegara",
                    "E. Mataram Kuno"
                ],
                correctAnswer: 2,
                explanation: "Kerajaan Kutai adalah kerajaan Hindu tertua di Indonesia yang berdiri sekitar abad ke-4 M di Kalimantan Timur."
            },
            {
                question: "Prasasti peninggalan Kerajaan Tarumanegara yang ditemukan di Bogor adalah...",
                options: [
                    "A. Prasasti Ciaruteun",
                    "B. Prasasti Talang Tuo",
                    "C. Prasasti Kedukan Bukit",
                    "D. Prasasti Kota Kapur",
                    "E. Prasasti Tugu"
                ],
                correctAnswer: 0,
                explanation: "Prasasti Ciaruteun adalah salah satu prasasti peninggalan Kerajaan Tarumanegara yang ditemukan di Bogor, Jawa Barat."
            },
            {
                question: "Raja terkenal dari Kerajaan Majapahit yang memerintah pada masa kejayaannya adalah...",
                options: [
                    "A. Hayam Wuruk",
                    "B. Ken Arok",
                    "C. Kertanegara",
                    "D. Balaputradewa",
                    "E. Purnawarman"
                ],
                correctAnswer: 0,
                explanation: "Hayam Wuruk adalah raja Majapahit yang memerintah pada masa kejayaan (1350-1389) dengan didampingi oleh Mahapatih Gajah Mada."
            },
            {
                question: "Sumpah yang diucapkan oleh Gajah Mada untuk menyatukan Nusantara dikenal dengan nama...",
                options: [
                    "A. Sumpah Pemuda",
                    "B. Sumpah Palapa",
                    "C. Sumpah Amukti Palapa",
                    "D. Sumpah Nusantara",
                    "E. Sumpah Mahapatih"
                ],
                correctAnswer: 1,
                explanation: "Sumpah Palapa adalah sumpah yang diucapkan Gajah Mada bahwa ia tidak akan memakan palapa sebelum berhasil menyatukan Nusantara."
            },
            {
                question: "Kerajaan Islam pertama di Indonesia adalah...",
                options: [
                    "A. Samudera Pasai",
                    "B. Demak",
                    "C. Mataram Islam",
                    "D. Banten",
                    "E. Aceh Darussalam"
                ],
                correctAnswer: 0,
                explanation: "Kerajaan Samudera Pasai di Aceh adalah kerajaan Islam pertama di Indonesia yang berdiri pada abad ke-13."
            },
            {
                question: "Sultan pertama Kerajaan Demak adalah...",
                options: [
                    "A. Raden Patah",
                    "B. Sultan Trenggono",
                    "C. Sunan Kalijaga",
                    "D. Sunan Ampel",
                    "E. Sunan Bonang"
                ],
                correctAnswer: 0,
                explanation: "Raden Patah adalah sultan pertama Kerajaan Demak yang memerintah sekitar tahun 1478-1518."
            },
            {
                question: "Perang Diponegoro terjadi pada tahun...",
                options: [
                    "A. 1795-1805",
                    "B. 1805-1815",
                    "C. 1815-1825",
                    "D. 1825-1830",
                    "E. 1830-1835"
                ],
                correctAnswer: 3,
                explanation: "Perang Diponegoro atau Perang Jawa terjadi antara tahun 1825-1830 melawan pemerintah kolonial Belanda."
            },
            {
                question: "Tokoh yang memimpin perlawanan rakyat Maluku melawan Belanda adalah...",
                options: [
                    "A. Sultan Hasanuddin",
                    "B. Pattimura",
                    "C. Tuanku Imam Bonjol",
                    "D. Pangeran Antasari",
                    "E. Cut Nyak Dien"
                ],
                correctAnswer: 1,
                explanation: "Pattimura (Thomas Matulessy) adalah tokoh yang memimpin perlawanan rakyat Maluku melawan Belanda pada tahun 1817."
            },
            {
                question: "Perang Padri terjadi di wilayah...",
                options: [
                    "A. Jawa Barat",
                    "B. Sumatera Barat",
                    "C. Sulawesi Selatan",
                    "D. Kalimantan Selatan",
                    "E. Nusa Tenggara Timur"
                ],
                correctAnswer: 1,
                explanation: "Perang Padri (1803-1838) terjadi di Sumatera Barat antara kaum Padri yang ingin memurnikan Islam dengan kaum Adat."
            },
            {
                question: "Sultan Hasanuddin dari Makassar dijuluki oleh Belanda sebagai...",
                options: [
                    "A. Singa dari Timur",
                    "B. Ayam Jantan dari Timur",
                    "C. Harimau dari Selatan",
                    "D. Elang dari Sulawesi",
                    "E. Macan dari Makassar"
                ],
                correctAnswer: 1,
                explanation: "Sultan Hasanuddin dijuluki 'Ayam Jantan dari Timur' oleh Belanda karena keberaniannya melawan VOC."
            },
            {
                question: "Perlawanan rakyat Aceh melawan Belanda dipimpin oleh...",
                options: [
                    "A. Teuku Umar dan Cut Nyak Dien",
                    "B. Pangeran Diponegoro",
                    "C. Sultan Agung",
                    "D. Sisingamangaraja XII",
                    "E. Pangeran Antasari"
                ],
                correctAnswer: 0,
                explanation: "Perlawanan rakyat Aceh melawan Belanda dipimpin oleh Teuku Umar dan istrinya Cut Nyak Dien."
            },
            {
                question: "Organisasi pergerakan nasional pertama di Indonesia adalah...",
                options: [
                    "A. Budi Utomo",
                    "B. Sarekat Islam",
                    "C. Indische Partij",
                    "D. Perhimpunan Indonesia",
                    "E. Partai Nasional Indonesia"
                ],
                correctAnswer: 0,
                explanation: "Budi Utomo yang didirikan pada 20 Mei 1908 dianggap sebagai organisasi pergerakan nasional pertama di Indonesia."
            },
            {
                question: "Tokoh yang dikenal sebagai Bapak Pendidikan Nasional adalah...",
                options: [
                    "A. Ki Hajar Dewantara",
                    "B. Douwes Dekker",
                    "C. Cipto Mangunkusumo",
                    "D. H.O.S. Cokroaminoto",
                    "E. Agus Salim"
                ],
                correctAnswer: 0,
                explanation: "Ki Hajar Dewantara (Suwardi Suryaningrat) dikenal sebagai Bapak Pendidikan Nasional dan pendiri Taman Siswa."
            },
            {
                question: "Sumpah Pemuda diikrarkan pada tanggal...",
                options: [
                    "A. 20 Mei 1908",
                    "B. 28 Oktober 1928",
                    "C. 17 Agustus 1945",
                    "D. 10 November 1945",
                    "E. 1 Juni 1945"
                ],
                correctAnswer: 1,
                explanation: "Sumpah Pemuda diikrarkan pada tanggal 28 Oktober 1928 dalam Kongres Pemuda II di Jakarta."
            },
            {
                question: "Lagu Indonesia Raya pertama kali dikumandangkan pada acara...",
                options: [
                    "A. Proklamasi Kemerdekaan",
                    "B. Kongres Pemuda I",
                    "C. Kongres Pemuda II",
                    "D. Pembentukan BPUPKI",
                    "E. Peresmian PPKI"
                ],
                correctAnswer: 2,
                explanation: "Lagu Indonesia Raya pertama kali dikumandangkan oleh Wage Rudolf Supratman pada Kongres Pemuda II tanggal 28 Oktober 1928."
            },
            {
                question: "BPUPKI dibentuk oleh Jepang pada tanggal...",
                options: [
                    "A. 1 Maret 1945",
                    "B. 29 April 1945",
                    "C. 1 Juni 1945",
                    "D. 22 Juni 1945",
                    "E. 7 Agustus 1945"
                ],
                correctAnswer: 1,
                explanation: "BPUPKI (Badan Penyelidik Usaha-usaha Persiapan Kemerdekaan Indonesia) dibentuk oleh Jepang pada 29 April 1945."
            },
            {
                question: "Tokoh yang mengemukakan konsep Pancasila pertama kali adalah...",
                options: [
                    "A. Mohammad Hatta",
                    "B. Soekarno",
                    "C. Mohammad Yamin",
                    "D. Soepomo",
                    "E. Ahmad Soebardjo"
                ],
                correctAnswer: 1,
                explanation: "Ir. Soekarno adalah tokoh yang pertama kali mengemukakan konsep Pancasila pada sidang BPUPKI tanggal 1 Juni 1945."
            },
            {
                question: "Piagam Jakarta disusun pada tanggal...",
                options: [
                    "A. 1 Juni 1945",
                    "B. 22 Juni 1945",
                    "C. 17 Agustus 1945",
                    "D. 18 Agustus 1945",
                    "E. 29 April 1945"
                ],
                correctAnswer: 1,
                explanation: "Piagam Jakarta disusun oleh Panitia Sembilan pada tanggal 22 Juni 1945 sebagai rancangan pembukaan UUD 1945."
            },
            {
                question: "Proklamasi Kemerdekaan Indonesia dibacakan pada tanggal...",
                options: [
                    "A. 1 Juni 1945",
                    "B. 17 Agustus 1945",
                    "C. 18 Agustus 1945",
                    "D. 28 Oktober 1928",
                    "E. 10 November 1945"
                ],
                correctAnswer: 1,
                explanation: "Proklamasi Kemerdekaan Indonesia dibacakan oleh Soekarno-Hatta pada tanggal 17 Agustus 1945 di Jakarta."
            },
            {
                question: "Tokoh yang mengetik naskah proklamasi adalah...",
                options: [
                    "A. Sayuti Melik",
                    "B. B.M. Diah",
                    "C. Sukarni",
                    "D. Latief Hendraningrat",
                    "E. Sutan Syahrir"
                ],
                correctAnswer: 0,
                explanation: "Sayuti Melik adalah tokoh yang mengetik naskah proklamasi setelah disusun oleh Soekarno, Hatta, dan Ahmad Soebardjo."
            },
            {
                question: "Peristiwa Rengasdengklok terjadi karena...",
                options: [
                    "A. Jepang menyerah kepada Sekutu",
                    "B. Perbedaan pendapat tentang waktu proklamasi",
                    "C. Pertentangan antara golongan tua dan muda",
                    "D. Upaya mencegah proklamasi oleh Jepang",
                    "E. Persiapan untuk melawan Belanda"
                ],
                correctAnswer: 2,
                explanation: "Peristiwa Rengasdengklok terjadi karena golongan muda mendesak golongan tua untuk segera memproklamasikan kemerdekaan."
            },
            {
                question: "PPKI dibentuk pada tanggal...",
                options: [
                    "A. 1 Maret 1945",
                    "B. 29 April 1945",
                    "C. 7 Agustus 1945",
                    "D. 17 Agustus 1945",
                    "E. 18 Agustus 1945"
                ],
                correctAnswer: 2,
                explanation: "PPKI (Panitia Persiapan Kemerdekaan Indonesia) dibentuk pada 7 Agustus 1945 untuk mempersiapkan kemerdekaan Indonesia."
            },
            {
                question: "Pertempuran 10 November 1945 terjadi di...",
                options: [
                    "A. Jakarta",
                    "B. Bandung",
                    "C. Surabaya",
                    "D. Yogyakarta",
                    "E. Medan"
                ],
                correctAnswer: 2,
                explanation: "Pertempuran 10 November 1945 terjadi di Surabaya melawan tentara Sekutu dan diperingati sebagai Hari Pahlawan."
            },
            {
                question: "Pemimpin perlawanan rakyat Bandung dalam peristiwa Bandung Lautan Api adalah...",
                options: [
                    "A. Bung Tomo",
                    "B. Kolonel Soedirman",
                    "C. Mohammad Toha",
                    "D. A.H. Nasution",
                    "E. Sutan Syahrir"
                ],
                correctAnswer: 3,
                explanation: "A.H. Nasution adalah salah satu pemimpin dalam peristiwa Bandung Lautan Api (24 Maret 1946) yang memutuskan untuk membumihanguskan Bandung."
            },
            {
                question: "Perjanjian Renville ditandatangani pada tahun...",
                options: [
                    "A. 1945",
                    "B. 1946",
                    "C. 1947",
                    "D. 1948",
                    "E. 1949"
                ],
                correctAnswer: 3,
                explanation: "Perjanjian Renville ditandatangani pada 17 Januari 1948 di atas kapal USS Renville milik Amerika Serikat."
            },
            {
                question: "Agresi Militer Belanda II terjadi pada tanggal...",
                options: [
                    "A. 21 Juli 1947",
                    "B. 19 Desember 1948",
                    "C. 17 Agustus 1945",
                    "D. 10 November 1945",
                    "E. 1 Maret 1949"
                ],
                correctAnswer: 1,
                explanation: "Agresi Militer Belanda II terjadi pada 19 Desember 1948 dengan menyerang Yogyakarta dan menangkap pemimpin Indonesia."
            },
            {
                question: "Serangan Umum 1 Maret 1949 dipimpin oleh...",
                options: [
                    "A. Jenderal Soedirman",
                    "B. Letkol Soeharto",
                    "C. Sultan Hamengkubuwono IX",
                    "D. Kolonel A.H. Nasution",
                    "E. Bung Tomo"
                ],
                correctAnswer: 1,
                explanation: "Serangan Umum 1 Maret 1949 dipimpin oleh Letkol Soeharto untuk menunjukkan eksistensi TNI dan Republik Indonesia."
            },
            {
                question: "Konferensi Meja Bundar dilaksanakan di...",
                options: [
                    "A. Jakarta",
                    "B. Den Haag",
                    "C. New York",
                    "D. London",
                    "E. Geneva"
                ],
                correctAnswer: 1,
                explanation: "Konferensi Meja Bundar (KMB) dilaksanakan di Den Haag, Belanda dari 23 Agustus hingga 2 November 1949."
            },
            {
                question: "Indonesia diakui kedaulatannya oleh Belanda pada tanggal...",
                options: [
                    "A. 17 Agustus 1945",
                    "B. 27 Desember 1949",
                    "C. 17 Agustus 1950",
                    "D. 5 Juli 1959",
                    "E. 1 Juni 1945"
                ],
                correctAnswer: 1,
                explanation: "Belanda mengakui kedaulatan Indonesia melalui KMB pada 27 Desember 1949, kecuali Papua Barat."
            },
            {
                question: "Sistem pemerintahan Indonesia setelah pengakuan kedaulatan adalah...",
                options: [
                    "A. Kesatuan",
                    "B. Federal",
                    "C. Monarki",
                    "D. Otokrasi",
                    "E. Komunis"
                ],
                correctAnswer: 1,
                explanation: "Setelah pengakuan kedaulatan, Indonesia menganut sistem federal dengan nama Republik Indonesia Serikat (RIS)."
            },
            {
                question: "Pemilihan Umum pertama di Indonesia dilaksanakan pada tahun...",
                options: [
                    "A. 1945",
                    "B. 1950",
                    "C. 1955",
                    "D. 1959",
                    "E. 1965"
                ],
                correctAnswer: 2,
                explanation: "Pemilu pertama di Indonesia dilaksanakan pada tahun 1955 untuk memilih anggota DPR dan Konstituante."
            },
            {
                question: "Dekrit Presiden 5 Juli 1959 berisi tentang...",
                options: [
                    "A. Pembubaran RIS",
                    "B. Kembali ke UUD 1945",
                    "C. Pembentukan NASAKOM",
                    "D. Pelaksanaan Demokrasi Terpimpin",
                    "E. Penyatuan Irian Barat"
                ],
                correctAnswer: 1,
                explanation: "Dekrit Presiden 5 Juli 1959 berisi tentang pembubaran Konstituante dan kembali ke UUD 1945."
            },
            {
                question: "Operasi Trikora bertujuan untuk...",
                options: [
                    "A. Menumpas pemberontakan DI/TII",
                    "B. Membebaskan Irian Barat",
                    "C. Menghadapi Malaysia",
                    "D. Menumpas PKI",
                    "E. Menghadapi Belanda"
                ],
                correctAnswer: 1,
                explanation: "Operasi Trikora (Tri Komando Rakyat) dilancarkan pada 19 Desember 1961 untuk membebaskan Irian Barat dari Belanda."
            },
            {
                question: "Peristiwa G30S/PKI terjadi pada tahun...",
                options: [
                    "A. 1945",
                    "B. 1955",
                    "C. 1959",
                    "D. 1965",
                    "E. 1975"
                ],
                correctAnswer: 3,
                explanation: "Peristiwa Gerakan 30 September 1965 (G30S/PKI) adalah peristiwa penculikan dan pembunuhan para jenderal TNI."
            },
            {
                question: "Orde Baru dimulai setelah dikeluarkannya...",
                options: [
                    "A. Supersemar",
                    "B. Dekrit Presiden",
                    "C. Tritura",
                    "D. Dwikora",
                    "E. Pelaksanaan Pemilu"
                ],
                correctAnswer: 0,
                explanation: "Orde Baru dimulai setelah dikeluarkannya Surat Perintah Sebelas Maret (Supersemar) tahun 1966."
            },
            {
                question: "Pemilu pertama pada masa Orde Baru dilaksanakan pada tahun...",
                options: [
                    "A. 1965",
                    "B. 1967",
                    "C. 1971",
                    "D. 1975",
                    "E. 1980"
                ],
                correctAnswer: 2,
                explanation: "Pemilu pertama pada masa Orde Baru dilaksanakan pada tahun 1971 setelah masa transisi."
            },
            {
                question: "Krisis ekonomi yang melanda Asia termasuk Indonesia terjadi pada tahun...",
                options: [
                    "A. 1995",
                    "B. 1997",
                    "C. 1998",
                    "D. 1999",
                    "E. 2000"
                ],
                correctAnswer: 1,
                explanation: "Krisis ekonomi Asia terjadi pada tahun 1997 yang berdampak besar pada ekonomi Indonesia."
            },
            {
                question: "Reformasi di Indonesia dimulai pada tahun...",
                options: [
                    "A. 1995",
                    "B. 1997",
                    "C. 1998",
                    "D. 1999",
                    "E. 2000"
                ],
                correctAnswer: 2,
                explanation: "Reformasi di Indonesia dimulai pada tahun 1998 yang ditandai dengan lengsernya Presiden Soeharto."
            },
            {
                question: "Presiden pertama Indonesia setelah era Reformasi adalah...",
                options: [
                    "A. Megawati Soekarnoputri",
                    "B. Abdurrahman Wahid",
                    "C. Susilo Bambang Yudhoyono",
                    "D. B.J. Habibie",
                    "E. Joko Widodo"
                ],
                correctAnswer: 3,
                explanation: "B.J. Habibie menjadi presiden pertama setelah era Reformasi, menggantikan Soeharto yang mengundurkan diri."
            },
            {
                question: "Pemilu pertama era Reformasi dilaksanakan pada tahun...",
                options: [
                    "A. 1997",
                    "B. 1998",
                    "C. 1999",
                    "D. 2000",
                    "E. 2001"
                ],
                correctAnswer: 2,
                explanation: "Pemilu pertama era Reformasi dilaksanakan pada tahun 1999 yang diikuti oleh banyak partai politik."
            },
            {
                question: "Amandemen UUD 1945 pertama kali dilakukan pada tahun...",
                options: [
                    "A. 1998",
                    "B. 1999",
                    "C. 2000",
                    "D. 2001",
                    "E. 2002"
                ],
                correctAnswer: 1,
                explanation: "Amandemen UUD 1945 pertama dilakukan pada tahun 1999 oleh MPR hasil Pemilu 1999."
            },
            {
                question: "Pemilihan presiden secara langsung pertama kali dilaksanakan pada tahun...",
                options: [
                    "A. 1999",
                    "B. 2001",
                    "C. 2004",
                    "D. 2009",
                    "E. 2014"
                ],
                correctAnswer: 2,
                explanation: "Pemilihan presiden secara langsung pertama kali dilaksanakan pada tahun 2004 yang dimenangkan oleh Susilo Bambang Yudhoyono."
            },
            {
                question: "Tsunami Aceh terjadi pada tahun...",
                options: [
                    "A. 2002",
                    "B. 2003",
                    "C. 2004",
                    "D. 2005",
                    "E. 2006"
                ],
                correctAnswer: 2,
                explanation: "Tsunami besar melanda Aceh dan sekitarnya pada 26 Desember 2004 akibat gempa bumi di Samudera Hindia."
            },
            {
                question: "Presiden Indonesia pertama yang dipilih melalui pemilihan langsung adalah...",
                options: [
                    "A. Megawati Soekarnoputri",
                    "B. Abdurrahman Wahid",
                    "C. Susilo Bambang Yudhoyono",
                    "D. B.J. Habibie",
                    "E. Joko Widodo"
                ],
                correctAnswer: 2,
                explanation: "Susilo Bambang Yudhoyono adalah presiden Indonesia pertama yang dipilih secara langsung oleh rakyat pada tahun 2004."
            },
            {
                question: "Joko Widodo pertama kali terpilih sebagai presiden pada tahun...",
                options: [
                    "A. 2009",
                    "B. 2012",
                    "C. 2014",
                    "D. 2019",
                    "E. 2020"
                ],
                correctAnswer: 2,
                explanation: "Joko Widodo pertama kali terpilih sebagai presiden pada Pemilu 2014 dan dilantik pada 20 Oktober 2014."
            },
            {
                question: "Ibu kota Indonesia dipindahkan ke Nusantara berdasarkan Undang-Undang yang disahkan pada tahun...",
                options: [
                    "A. 2019",
                    "B. 2020",
                    "C. 2021",
                    "D. 2022",
                    "E. 2023"
                ],
                correctAnswer: 2,
                explanation: "Pemindahan ibu kota ke Nusantara di Kalimantan Timur disahkan melalui UU Ibu Kota Negara pada tahun 2021."
            }
                ]
            },
            'SMA/SMK': {
                'Sejarah': [
                    {
                question: "Peristiwa Rengasdengklok terjadi karena...",
                options: [
                    "A. Perbedaan pendapat antara golongan muda dan tua tentang proklamasi kemerdekaan",
                    "B. Upaya Belanda untuk menguasai kembali Indonesia setelah Jepang menyerah",
                    "C. Pertentangan antara pihak sekutu dan Jepang di Indonesia",
                    "D. Perselisihan antara Soekarno dan Hatta tentang bentuk negara",
                    "E. Upaya golongan muda untuk mencegah proklamasi kemerdekaan"
                ],
                correctAnswer: 0,
                explanation: "Peristiwa Rengasdengklok terjadi karena perbedaan pendapat antara golongan muda yang ingin segera memproklamasikan kemerdekaan dan golongan tua yang ingin menunggu keputusan PPKI."
            },
            {
                question: "Latar belakang utama terjadinya Perang Diponegoro (1825-1830) adalah...",
                options: [
                    "A. Campur tangan Belanda dalam urusan internal Kesultanan Yogyakarta",
                    "B. Pembangunan jalan oleh Belanda yang melintasi makam leluhur Pangeran Diponegoro",
                    "C. Penolakan Pangeran Diponegoro terhadap sistem pajak yang diberlakukan Belanda",
                    "D. Perebutan tahta Kesultanan Yogyakarta antara Pangeran Diponegoro dan Hamengkubuwono V",
                    "E. Perlawanan terhadap penyebaran agama Kristen oleh Belanda"
                ],
                correctAnswer: 2,
                explanation: "Sebab utama Perang Diponegoro adalah penolakan Pangeran Diponegoro terhadap sistem pajak dan penyewaan tanah yang memberatkan rakyat, serta campur tangan Belanda dalam urusan keraton."
            },
            {
                question: "Pembentukan Volksraad pada tahun 1918 oleh pemerintah kolonial Belanda bertujuan untuk...",
                options: [
                    "A. Memberikan kemerdekaan penuh kepada Indonesia",
                    "B. Membentuk pemerintahan sementara Indonesia",
                    "C. Sebagai lembaga perwakilan rakyat yang bersifat semu",
                    "D. Mempersiapkan Indonesia menjadi negara persemakmuran Belanda",
                    "E. Menghapuskan sistem tanam paksa secara keseluruhan"
                ],
                correctAnswer: 2,
                explanation: "Volksraad dibentuk sebagai lembaga perwakilan semu untuk menampung aspirasi rakyat Indonesia namun tanpa kekuasaan nyata, sebagai strategi politik Belanda untuk meredam tuntutan kemerdekaan."
            },
            {
                question: "Perjanjian Linggarjati (1947) antara Indonesia dan Belanda berisi beberapa poin penting, kecuali...",
                options: [
                    "A. Belanda mengakui secara de facto Republik Indonesia dengan wilayah Jawa, Madura, dan Sumatera",
                    "B. Pembentukan Republik Indonesia Serikat yang berdaulat penuh",
                    "C. Republik Indonesia Serikat akan bekerja sama dalam Uni Indonesia-Belanda",
                    "D. Belanda akan segera menarik semua pasukannya dari Indonesia",
                    "E. Pembentukan negara federal sementara sebelum RIS"
                ],
                correctAnswer: 3,
                explanation: "Perjanjian Linggarjati tidak mencantumkan penarikan pasukan Belanda dari Indonesia, yang kemudian menjadi salah satu penyebab kegagalan perjanjian ini."
            },
            {
                question: "Pemberontakan PKI Madiun 1948 dilatarbelakangi oleh...",
                options: [
                    "A. Penolakan terhadap hasil Perjanjian Renville",
                    "B. Kekecewaan terhadap kepemimpinan Soekarno-Hatta",
                    "C. Upaya mendirikan negara komunis di Indonesia",
                    "D. Protes terhadap kebijakan ekonomi pemerintah",
                    "E. Penentangan terhadap sistem demokrasi liberal"
                ],
                correctAnswer: 2,
                explanation: "Pemberontakan PKI Madiun 1948 merupakan upaya Muso dan Amir Syarifuddin untuk mendirikan negara komunis di Indonesia dengan menggulingkan pemerintah RI yang sah."
            },
            {
                question: "Peristiwa Bandung Lautan Api terjadi dalam konteks...",
                options: [
                    "A. Perlawanan rakyat Bandung terhadap pendudukan Jepang",
                    "B. Strategi TRI dan rakyat Bandung menghadapi Sekutu dan NICA",
                    "C. Pertempuran antara pasukan DI/TII dengan pemerintah RI",
                    "D. Konflik internal di tubuh TNI di Bandung",
                    "E. Pembumihangusan kota Bandung oleh Belanda"
                ],
                correctAnswer: 1,
                explanation: "Peristiwa Bandung Lautan Api adalah strategi TRI dan rakyat Bandung yang membakar kota untuk menghancurkan nilai strategisnya dan mundur ke luar kota dalam menghadapi serangan Sekutu/NICA."
            },
            {
                question: "Penyebab utama kegagalan sistem tanam paksa (cultuurstelsel) di Jawa adalah...",
                options: [
                    "A. Tekanan dari pemerintah Belanda untuk menghentikannya",
                    "B. Perlawanan bersenjata dari petani Jawa",
                    "C. Kritik dari kaum liberal Belanda dan praktik penyimpangan yang merugikan rakyat",
                    "D. Bencana alam yang menghancurkan perkebunan",
                    "E. Perang Diponegoro yang mengganggu sistem ini"
                ],
                correctAnswer: 2,
                explanation: "Sistem tanam paksa akhirnya dihapuskan karena tekanan dari kaum liberal Belanda yang mengkritik praktik eksploitatifnya, serta berbagai penyimpangan yang menyengsarakan rakyat Jawa."
            },
            {
                question: "Peran Sutan Syahrir dalam perjuangan kemerdekaan Indonesia yang paling menonjol adalah...",
                options: [
                    "A. Memimpin perlawanan bersenjata melawan Belanda",
                    "B. Merumuskan konsep diplomasi dalam perjuangan kemerdekaan",
                    "C. Menjadi tokoh utama dalam penyusunan UUD 1945",
                    "D. Memimpin gerakan non-kooperatif dengan Jepang",
                    "E. Mendirikan partai politik pertama di Indonesia"
                ],
                correctAnswer: 1,
                explanation: "Sutan Syahrir dikenal sebagai arsitek diplomasi Indonesia dalam perjuangan kemerdekaan, termasuk dalam perundingan-perundingan dengan Belanda pasca-proklamasi."
            },
            {
                question: "Konferensi Meja Bundar (KMB) tahun 1949 menghasilkan beberapa keputusan penting, kecuali...",
                options: [
                    "A. Pengakuan kedaulatan Indonesia oleh Belanda",
                    "B. Pembentukan Republik Indonesia Serikat (RIS)",
                    "C. Penyelesaian masalah Irian Barat dalam waktu setahun",
                    "D. Pembentukan Uni Indonesia-Belanda",
                    "E. Penarikan pasukan Belanda dari Indonesia"
                ],
                correctAnswer: 2,
                explanation: "KMB tidak menyelesaikan masalah Irian Barat, yang justru menjadi masalah berkepanjangan hingga tahun 1960-an melalui Pepera."
            },
            {
                question: "Gerakan Non-Blok (GNB) didirikan dengan tujuan utama...",
                options: [
                    "A. Melawan dominasi negara-negara Barat",
                    "B. Menjadi alternatif di tengah persaingan Blok Barat dan Timur",
                    "C. Mempromosikan sistem komunisme di dunia",
                    "D. Membentuk aliansi militer negara-negara berkembang",
                    "E. Menentang semua bentuk kolonialisme dan imperialisme"
                ],
                correctAnswer: 1,
                explanation: "GNB didirikan untuk memberikan alternatif bagi negara-negara yang tidak ingin terlibat dalam persaingan Blok Barat (AS) dan Blok Timur (Uni Soviet) selama Perang Dingin."
            },
            {
                question: "Peristiwa Malari (Malapetaka Lima Belas Januari) 1974 dilatarbelakangi oleh...",
                options: [
                    "A. Penolakan terhadap kenaikan harga BBM",
                    "B. Protes terhadap dominasi modal asing khususnya Jepang",
                    "C. Tuntutan reformasi politik dan demokrasi",
                    "D. Penolakan terhadap Pemilu 1971",
                    "E. Konflik antara mahasiswa dan militer"
                ],
                correctAnswer: 1,
                explanation: "Malari 1974 terutama dipicu oleh protes mahasiswa terhadap dominasi modal asing khususnya Jepang dan ketimpangan pembangunan di era Orde Baru."
            },
            {
                question: "Penyebab utama meletusnya Perang Aceh (1873-1904) adalah...",
                options: [
                    "A. Penolakan Aceh terhadap agama Islam",
                    "B. Keinginan Belanda menguasai wilayah strategis Selat Malaka",
                    "C. Perebutan sumber daya alam di Aceh",
                    "D. Persaingan antara kesultanan Aceh dan Deli",
                    "E. Intervensi Inggris dalam urusan Aceh"
                ],
                correctAnswer: 1,
                explanation: "Perang Aceh terutama disebabkan oleh keinginan Belanda menguasai wilayah strategis di sekitar Selat Malaka dan kekhawatiran akan pengaruh asing lainnya di Aceh."
            },
            {
                question: "Peran Pattimura dalam perlawanan terhadap Belanda terutama terjadi di wilayah...",
                options: [
                    "A. Sumatra Barat",
                    "B. Maluku",
                    "C. Jawa Tengah",
                    "D. Sulawesi Selatan",
                    "E. Kalimantan Barat"
                ],
                correctAnswer: 1,
                explanation: "Pattimura (Thomas Matulessy) memimpin perlawanan rakyat Maluku terhadap Belanda pada tahun 1817, terutama di Saparua dan Ambon."
            },
            {
                question: "Sumpah Pemuda 1928 memiliki arti penting karena...",
                options: [
                    "A. Merupakan awal perlawanan bersenjata terhadap Belanda",
                    "B. Menyatukan berbagai organisasi pemuda dalam satu partai politik",
                    "C. Mempertegas konsep bangsa Indonesia yang satu tanpa melihat perbedaan",
                    "D. Mendeklarasikan kemerdekaan Indonesia secara resmi",
                    "E. Menolak semua pengaruh budaya asing di Indonesia"
                ],
                correctAnswer: 2,
                explanation: "Sumpah Pemuda 1928 memiliki arti penting dalam mempertegas persatuan bangsa Indonesia yang melampaui batas etnis, bahasa, dan daerah."
            },
            {
                question: "Pemerintah Darurat Republik Indonesia (PDRI) dibentuk di Bukittinggi pada tahun 1948 dengan tujuan...",
                options: [
                    "A. Menggantikan pemerintahan Soekarno-Hatta yang dianggap tidak efektif",
                    "B. Melanjutkan pemerintahan RI setelah ibukota Yogyakarta jatuh ke Belanda",
                    "C. Membentuk negara tandingan untuk melawan Belanda",
                    "D. Menyatukan semua kekuatan gerilya di Sumatra",
                    "E. Mempersiapkan pembentukan negara federal"
                ],
                correctAnswer: 1,
                explanation: "PDRI dibentuk oleh Sjafruddin Prawiranegara untuk menjamin kelangsungan pemerintahan RI setelah Yogyakarta jatuh dan Soekarno-Hatta ditangkap Belanda dalam Agresi Militer II."
            },
            {
                question: "Peran Tan Malaka dalam perjuangan kemerdekaan Indonesia yang paling menonjol adalah...",
                options: [
                    "A. Merumuskan konsep republik pertama kali",
                    "B. Memimpin perlawanan bersenjata melawan Belanda",
                    "C. Menjadi mediator antara Indonesia dan Belanda",
                    "D. Mendirikan partai komunis pertama di Indonesia",
                    "E. Menyusun strategi diplomasi internasional"
                ],
                correctAnswer: 0,
                explanation: "Tan Malaka dikenal sebagai salah satu tokoh pertama yang merumuskan konsep Republik Indonesia melalui bukunya 'Naar de Republiek Indonesia' (1925)."
            },
            {
                question: "Penyebab utama kegagalan Demokrasi Terpimpin (1959-1965) adalah...",
                options: [
                    "A. Campur tangan asing dalam pemerintahan",
                    "B. Dominasi militer dalam politik praktis",
                    "C. Penyimpangan dari prinsip-prinsip demokrasi dan konsentrasi kekuasaan",
                    "D. Kegagalan ekonomi yang parah",
                    "E. Perlawanan dari daerah-daerah"
                ],
                correctAnswer: 2,
                explanation: "Demokrasi Terpimpin gagal terutama karena penyimpangan dari prinsip demokrasi, konsentrasi kekuasaan di tangan Soekarno, dan menguatnya peran PKI."
            },
            {
                question: "Peristiwa Kudeta Angkatan Perang Ratu Adil (APRA) tahun 1950 dilakukan oleh...",
                options: [
                    "A. Raymond Westerling",
                    "B. Andi Azis",
                    "C. Kahar Muzakkar",
                    "D. Daud Beureueh",
                    "E. Kartosuwiryo"
                ],
                correctAnswer: 0,
                explanation: "APRA adalah kudeta yang dilakukan oleh Raymond Westerling, mantan tentara KNIL, yang ingin mempertahankan negara federal dan melawan Republik Indonesia."
            },
            {
                question: "Perjanjian New York tahun 1962 berkaitan dengan penyelesaian masalah...",
                options: [
                    "A. Konfrontasi Indonesia-Malaysia",
                    "B. Sengketa Pulau Sipadan-Ligitan",
                    "C. Irian Barat",
                    "D. Timor Timur",
                    "E. Kerusuhan rasial 1960-an"
                ],
                correctAnswer: 2,
                explanation: "Perjanjian New York 1962 menjadi dasar penyelesaian sengketa Irian Barat antara Indonesia dan Belanda melalui UNTEA dan Pepera."
            },
            {
                question: "Penyebab utama meletusnya Perang Padri (1803-1838) di Sumatra Barat adalah...",
                options: [
                    "A. Persaingan antara kaum adat dan kaum agama",
                    "B. Perlawanan terhadap sistem tanam paksa Belanda",
                    "C. Perebutan sumber daya alam emas",
                    "D. Penolakan terhadap kekuasaan Kesultanan Aceh",
                    "E. Perlawanan terhadap penyebaran agama Kristen"
                ],
                correctAnswer: 0,
                explanation: "Perang Padri awalnya dipicu oleh konflik antara Kaum Padri (penganut Islam puritan) dengan Kaum Adat yang mempertahankan tradisi, sebelum kemudian berubah menjadi perlawanan terhadap Belanda."
            },
            {
                question: "Peran Sultan Hasanuddin dalam perlawanan terhadap Belanda terutama terjadi di wilayah...",
                options: [
                    "A. Maluku",
                    "B. Sulawesi Selatan",
                    "C. Jawa Timur",
                    "D. Kalimantan Barat",
                    "E. Nusa Tenggara Timur"
                ],
                correctAnswer: 1,
                explanation: "Sultan Hasanuddin memimpin perlawanan Kerajaan Gowa terhadap VOC Belanda di Sulawesi Selatan pada abad ke-17, sehingga dijuluki 'Ayam Jantan dari Timur'."
            },
            {
                question: "Tujuan utama pembentukan ASEAN pada tahun 1967 adalah...",
                options: [
                    "A. Membentuk aliansi militer melawan komunis",
                    "B. Meningkatkan kerjasama ekonomi dan stabilitas regional",
                    "C. Menyaingi organisasi PBB",
                    "D. Memblokade pengaruh Barat di Asia Tenggara",
                    "E. Menyatukan semua negara Asia dalam satu federasi"
                ],
                correctAnswer: 1,
                explanation: "ASEAN didirikan terutama untuk meningkatkan kerjasama ekonomi, sosial, budaya, dan menjaga stabilitas politik di kawasan Asia Tenggara."
            },
            {
                question: "Penyebab utama meletusnya Perang Banjar (1859-1905) adalah...",
                options: [
                    "A. Campur tangan Belanda dalam suksesi kerajaan",
                    "B. Penolakan terhadap sistem monopoli perdagangan VOC",
                    "C. Perlawanan terhadap penyebaran agama Kristen",
                    "D. Perebutan sumber daya alam intan",
                    "E. Persaingan dengan Kesultanan Brunei"
                ],
                correctAnswer: 0,
                explanation: "Perang Banjar terutama dipicu oleh campur tangan Belanda dalam suksesi kerajaan dan pengangkatan Tamjidillah sebagai Sultan yang tidak disukai rakyat."
            },
            {
                question: "Peran Dewi Sartika dalam perjuangan bangsa Indonesia yang paling menonjol adalah...",
                options: [
                    "A. Memimpin perlawanan bersenjata melawan Belanda",
                    "B. Mendirikan sekolah untuk kaum perempuan",
                    "C. Menjadi anggota Volksraad pertama dari kalangan pribumi",
                    "D. Menulis karya sastra yang mengkritik kolonialisme",
                    "E. Mendirikan organisasi politik perempuan pertama"
                ],
                correctAnswer: 1,
                explanation: "Dewi Sartika dikenal sebagai pelopor pendidikan untuk perempuan pribumi dengan mendirikan Sakola Istri (1904) di Bandung yang kemudian berkembang menjadi Sakola Kautamaan Istri."
            },
            {
                question: "Penyebab utama kegagalan Kabinet-Kabinet pada masa Demokrasi Liberal (1950-1959) adalah...",
                options: [
                    "A. Campur tangan militer dalam politik",
                    "B. Dominasi partai politik tunggal",
                    "C. Fragmentasi politik dan seringnya mosi tidak percaya",
                    "D. Tekanan dari negara-negara asing",
                    "E. Krisis ekonomi global"
                ],
                correctAnswer: 2,
                explanation: "Kabinet-kabinet pada masa Demokrasi Liberal sering jatuh karena fragmentasi politik, seringnya mosi tidak percaya, dan sulitnya mencapai konsensus antar partai."
            },
            {
                question: "Peristiwa Tiga Daerah (1945) terjadi di wilayah...",
                options: [
                    "A. Jawa Barat",
                    "B. Jawa Tengah",
                    "C. Jawa Timur",
                    "D. Sumatra Utara",
                    "E. Sulawesi Selatan"
                ],
                correctAnswer: 1,
                explanation: "Peristiwa Tiga Daerah (Brebes, Tegal, Pemalang) di Jawa Tengah tahun 1945 merupakan konflik sosial antara kelompok revolusioner dengan mantan pegawai pemerintah kolonial."
            },
            {
                question: "Peran Martha Christina Tiahahu dalam perjuangan melawan Belanda adalah...",
                options: [
                    "A. Memimpin pasukan perempuan di Jawa Barat",
                    "B. Menjadi penyusun strategi perang di Sumatra",
                    "C. Berjuang melawan Belanda di Maluku",
                    "D. Menjadi diplomat perempuan pertama Indonesia",
                    "E. Mendirikan organisasi perempuan anti-kolonial"
                ],
                correctAnswer: 2,
                correctAnswer: 2,
                explanation: "Martha Christina Tiahahu adalah pejuang perempuan dari Maluku yang berperan dalam perlawanan terhadap Belanda di Pulau Nusa Laut bersama ayahnya, Kapitan Paulus Tiahahu."
            },
            {
                question: "Penyebab utama meletusnya Perang Batak (1878-1907) dipimpin oleh Sisingamangaraja XII adalah...",
                options: [
                    "A. Perlawanan terhadap penyebaran agama Kristen",
                    "B. Penolakan terhadap sistem tanam paksa kopi",
                    "C. Keinginan Belanda menguasai daerah perkebunan tembakau",
                    "D. Perebutan wilayah dengan Kesultanan Aceh",
                    "E. Perlawanan terhadap monopoli garam oleh Belanda"
                ],
                correctAnswer: 1,
                explanation: "Perang Batak terutama dipicu oleh penolakan terhadap sistem tanam paksa kopi dan upaya Belanda menguasai wilayah Toba yang strategis."
            },
            {
                question: "Peran Tuanku Imam Bonjol dalam perlawanan terhadap Belanda terutama terjadi di wilayah...",
                options: [
                    "A. Aceh",
                    "B. Minangkabau",
                    "C. Banten",
                    "D. Maluku",
                    "E. Bali"
                ],
                correctAnswer: 1,
                explanation: "Tuanku Imam Bonjol adalah pemimpin utama dalam Perang Padri yang berpusat di Bonjol, Minangkabau, melawan Belanda."
            },
            {
                question: "Penyebab utama meletusnya Perang Bali (1846-1849) adalah...",
                options: [
                    "A. Penolakan kerajaan-kerajaan Bali terhadap hak tawan karang",
                    "B. Perlawanan terhadap penyebaran agama Islam",
                    "C. Perebutan wilayah dengan Kesultanan Mataram",
                    "D. Penolakan terhadap sistem monopoli perdagangan VOC",
                    "E. Persaingan dengan Portugis di Nusantara"
                ],
                correctAnswer: 0,
                explanation: "Perang Bali terutama dipicu oleh penolakan kerajaan-kerajaan Bali terhadap tuntutan Belanda untuk menghapus hak tawan karang (hak kerajaan untuk menyita kapal yang terdampar)."
            },
            {
                question: "Peran Cut Nyak Dien dalam perlawanan terhadap Belanda adalah...",
                options: [
                    "A. Memimpin pasukan perempuan di Jawa Barat",
                    "B. Menjadi panglima perang di Aceh",
                    "C. Menyusun strategi diplomasi dengan Belanda",
                    "D. Mendirikan sekolah untuk anak-anak pejuang",
                    "E. Menjadi penasihat militer Pangeran Diponegoro"
                ],
                correctAnswer: 1,
                explanation: "Cut Nyak Dien adalah pemimpin perlawanan Aceh yang melanjutkan perjuangan setelah suaminya Teuku Umar gugur, dan memimpin perlawanan gerilya di pedalaman Aceh."
            },
            {
                question: "Penyebab utama meletusnya Pemberontakan PKI 1926 adalah...",
                options: [
                    "A. Kekecewaan terhadap kebijakan pemerintah kolonial yang represif",
                    "B. Pengaruh Revolusi Bolshevik di Rusia",
                    "C. Perlawanan terhadap sistem tanam paksa",
                    "D. Persaingan dengan organisasi pergerakan nasional lain",
                    "E. Tekanan dari Comintern untuk melakukan revolusi"
                ],
                correctAnswer: 4,
                explanation: "Pemberontakan PKI 1926 terutama dipicu oleh tekanan Comintern (organisasi komunis internasional) untuk melakukan revolusi proletar, meski kondisi Indonesia belum siap."
            },
            {
                question: "Peran Pangeran Antasari dalam perlawanan terhadap Belanda terutama terjadi di wilayah...",
                options: [
                    "A. Sumatra Barat",
                    "B. Kalimantan Selatan",
                    "C. Sulawesi Utara",
                    "D. Maluku",
                    "E. Nusa Tenggara Timur"
                ],
                correctAnswer: 1,
                explanation: "Pangeran Antasari memimpin Perang Banjar melawan Belanda di Kalimantan Selatan pada pertengahan abad ke-19."
            },
            {
                question: "Penyebab utama meletusnya Perang Jawa (1825-1830) adalah...",
                options: [
                    "A. Penolakan Pangeran Diponegoro terhadap campur tangan Belanda dalam urusan keraton",
                    "B. Perlawanan terhadap penyebaran agama Kristen",
                    "C. Perebutan tahta Kesultanan Yogyakarta",
                    "D. Penolakan terhadap sistem pajak tanah",
                    "E. Persaingan dengan Kesultanan Surakarta"
                ],
                correctAnswer: 0,
                explanation: "Sebab utama Perang Jawa adalah penolakan Pangeran Diponegoro terhadap campur tangan Belanda dalam urusan keraton dan pemasangan patok oleh Belanda yang melintasi makam leluhurnya."
            },
            {
                question: "Peran Sultan Agung dalam melawan VOC terutama terjadi di wilayah...",
                options: [
                    "A. Sumatra Utara",
                    "B. Jawa Tengah",
                    "C. Sulawesi Selatan",
                    "D. Maluku",
                    "E. Kalimantan Barat"
                ],
                correctAnswer: 1,
                explanation: "Sultan Agung dari Mataram melakukan serangan terhadap VOC di Batavia pada tahun 1628 dan 1629, meski akhirnya gagal mengusir Belanda dari Jawa."
            },
            {
                question: "Penyebab utama kegagalan Perjanjian Renville (1948) adalah...",
                options: [
                    "A. Penolakan Belanda untuk mengakui kedaulatan RI",
                    "B. Wilayah RI yang semakin sempit hanya meliputi Yogyakarta",
                    "C. Tidak adanya pengakuan internasional terhadap perjanjian tersebut",
                    "D. Penolakan Amerika Serikat sebagai mediator",
                    "E. Perselisihan antara Soekarno dan Hatta"
                ],
                correctAnswer: 1,
                explanation: "Perjanjian Renville dianggap merugikan RI karena wilayahnya semakin sempit dan harus mengosongkan kantong-kantong gerilya di wilayah pendudukan Belanda, yang kemudian memicu ketidakpuasan."
            },
            {
                question: "Peran Teuku Umar dalam perlawanan terhadap Belanda adalah...",
                options: [
                    "A. Memimpin pasukan gerilya di Jawa Barat",
                    "B. Melakukan strategi tipu muslihat terhadap Belanda di Aceh",
                    "C. Menjadi diplomat Aceh ke Turki Utsmani",
                    "D. Mendirikan sekolah militer pertama di Aceh",
                    "E. Menyusun perjanjian damai dengan Belanda"
                ],
                correctAnswer: 1,
                explanation: "Teuku Umar terkenal dengan strategi 'Hindia Belanda' dimana ia berpura-pura bekerjasama dengan Belanda untuk mendapatkan senjata dan pelatihan, kemudian berbalik melawan Belanda."
            },
            {
                question: "Penyebab utama meletusnya Konfrontasi Indonesia-Malaysia (1963-1966) adalah...",
                options: [
                    "A. Penolakan Indonesia terhadap pembentukan Federasi Malaysia yang dianggap pro-Barat",
                    "B. Perebutan wilayah Kalimantan antara Indonesia dan Malaysia",
                    "C. Persaingan ekonomi dalam produksi karet dan timah",
                    "D. Dukungan Malaysia terhadap pemberontakan DI/TII",
                    "E. Konflik perbatasan di Pulau Sipadan dan Ligitan"
                ],
                correctAnswer: 0,
                explanation: "Konfrontasi terutama dipicu oleh penolakan Soekarno terhadap pembentukan Federasi Malaysia yang dianggap sebagai boneka Inggris/neokolonialisme di Asia Tenggara."
            },
            {
                question: "Peran Sultan Nuku dalam perlawanan terhadap Belanda terutama terjadi di wilayah...",
                options: [
                    "A. Maluku Utara",
                    "B. Jawa Timur",
                    "C. Sumatra Barat",
                    "D. Kalimantan Timur",
                    "E. Nusa Tenggara Barat"
                ],
                correctAnswer: 0,
                explanation: "Sultan Nuku (Sultan Muhammad al-Mabus Amiruddin Syah) memimpin perlawanan di Tidore dan Maluku Utara melawan VOC pada akhir abad ke-18."
            },
            {
                question: "Penyebab utama meletusnya Pemberontakan Andi Azis (1950) adalah...",
                options: [
                    "A. Penolakan terhadap pembentukan Negara Indonesia Timur",
                    "B. Keinginan mempertahankan Negara Indonesia Timur dan menentang integrasi ke RI",
                    "C. Perlawanan terhadap dominasi Jawa dalam pemerintahan",
                    "D. Protes terhadap pembubaran KNIL",
                    "E. Penentangan terhadap sistem demokrasi liberal"
                ],
                correctAnswer: 1,
                explanation: "Pemberontakan Andi Azis dipicu oleh keinginan mempertahankan Negara Indonesia Timur dan menentang integrasi ke Republik Indonesia setelah pengakuan kedaulatan."
            },
            {
                question: "Peran Sultan Mahmud Badaruddin II dalam perlawanan terhadap Belanda terutama terjadi di wilayah...",
                options: [
                    "A. Palembang",
                    "B. Banten",
                    "C. Banjarmasin",
                    "D. Makassar",
                    "E. Maluku"
                ],
                correctAnswer: 0,
                explanation: "Sultan Mahmud Badaruddin II memimpin perlawanan terhadap Inggris dan Belanda di Palembang pada awal abad ke-19 sebelum akhirnya ditangkap dan diasingkan."
            },
            {
                question: "Penyebab utama meletusnya Peristiwa Westerling di Sulawesi Selatan (1946-1947) adalah...",
                options: [
                    "A. Upaya Belanda untuk menekan perlawanan rakyat Sulawesi terhadap kembalinya Belanda",
                    "B. Konflik antara KNIL dan TNI di wilayah Sulawesi",
                    "C. Perlawanan terhadap pembentukan Negara Indonesia Timur",
                    "D. Persaingan antara kelompok pro-Republik dan pro-federal",
                    "E. Pembalasan terhadap kekalahan Belanda di Jawa"
                ],
                correctAnswer: 0,
                explanation: "Pasukan Depot Speciale Troepen pimpinan Westerling melakukan pembunuhan massal terhadap ribuan orang di Sulawesi Selatan untuk menekan perlawanan rakyat terhadap kembalinya kekuasaan Belanda."
            },
            {
                question: "Peran Raja Haji Fisabilillah dalam perlawanan terhadap Belanda terutama terjadi di wilayah...",
                options: [
                    "A. Riau",
                    "B. Aceh",
                    "C. Jawa Barat",
                    "D. Kalimantan Selatan",
                    "E. Maluku"
                ],
                correctAnswer: 0,
                explanation: "Raja Haji Fisabilillah dari Kesultanan Riau-Lingga memimpin perlawanan terhadap VOC di wilayah Riau pada akhir abad ke-18 sebelum gugur dalam pertempuran di Melaka."
            },
            {
                question: "Penyebab utama meletusnya Pemberontakan DI/TII di Jawa Barat (1949-1962) adalah...",
                options: [
                    "A. Penolakan terhadap hasil Perjanjian Renville",
                    "B. Keinginan mendirikan negara Islam Indonesia",
                    "C. Protes terhadap pembubaran tentara Hizbullah",
                    "D. Perlawanan terhadap sistem demokrasi liberal",
                    "E. Penentangan terhadap dominasi Jawa dalam politik"
                ],
                correctAnswer: 1,
                explanation: "Pemberontakan DI/TII Kartosuwiryo terutama dipicu oleh keinginan mendirikan Negara Islam Indonesia setelah penolakannya terhadap hasil Perjanjian Renville dan Proklamasi RI yang sekuler."
            },
            {
                question: "Peran Sultan Ageng Tirtayasa dalam perlawanan terhadap Belanda terutama terjadi di wilayah...",
                options: [
                    "A. Banten",
                    "B. Mataram",
                    "C. Maluku",
                    "D. Sumatra Barat",
                    "E. Kalimantan Barat"
                ],
                correctAnswer: 0,
                explanation: "Sultan Ageng Tirtayasa memimpin perlawanan Kesultanan Banten terhadap VOC pada abad ke-17 sebelum akhirnya ditangkap dan diasingkan."
            },
            {
                question: "Penyebab utama meletusnya Peristiwa 7 Oktober 1952 adalah...",
                options: [
                    "A. Konflik antara Angkatan Darat dengan Presiden Soekarno",
                    "B. Kudeta militer terhadap pemerintahan sipil",
                    "C. Protes terhadap hasil Pemilu 1955",
                    "D. Persaingan antara TNI dan KNIL",
                    "E. Penentangan terhadap sistem demokrasi parlementer"
                ],
                correctAnswer: 0,
                explanation: "Peristiwa 7 Oktober 1952 merupakan puncak ketegangan antara pimpinan Angkatan Darat (A.H. Nasution) dengan Soekarno mengenai kebijakan reorganisasi militer dan campur tangan sipil dalam urusan militer."
            },
            {
                question: "Peran Untung Surapati dalam perlawanan terhadap Belanda terutama terjadi di wilayah...",
                options: [
                    "A. Jawa Timur",
                    "B. Sumatra Utara",
                    "C. Sulawesi Selatan",
                    "D. Bali",
                    "E. Kalimantan Timur"
                ],
                correctAnswer: 0,
                explanation: "Untung Surapati, mantan budak Belanda, memimpin perlawanan terhadap VOC di Jawa Timur pada akhir abad ke-17 dengan basis di Pasuruan."
            },
            {
                question: "Penyebab utama meletusnya Peristiwa Cikini (1957) adalah...",
                options: [
                    "A. Upaya pembunuhan terhadap Presiden Soekarno",
                    "B. Konflik antara TNI dan organisasi pemuda",
                    "C. Protes terhadap nasionalisasi perusahaan Belanda",
                    "D. Persaingan antara partai politik di Jakarta",
                    "E. Penentangan terhadap Demokrasi Terpimpin"
                ],
                correctAnswer: 0,
                explanation: "Peristiwa Cikini adalah upaya pembunuhan terhadap Soekarno dengan granat saat sedang menghadiri acara di sekolah Cikini, yang didalangi oleh kelompok anti-Soekarno."
            },
            {
                question: "Peran Pangeran Jayakarta dalam perlawanan terhadap Belanda terutama terjadi di wilayah...",
                options: [
                    "A. Batavia (Jakarta)",
                    "B. Banten",
                    "C. Cirebon",
                    "D. Surabaya",
                    "E. Semarang"
                ],
                correctAnswer: 0,
                explanation: "Pangeran Jayakarta (Pangeran Achmad Jakerta) memimpin perlawanan terhadap VOC di wilayah Jayakarta (Batavia) pada awal abad ke-17 sebelum akhirnya terdesak ke daerah sekitar."
            }
                ]
            }
        };

        // Motivational messages based on score
        const MOTIVATIONAL_MESSAGES = {
            '90-100': 'Sempurna! Anda sangat luar biasa dalam menguasai materi sejarah. Pertahankan prestasi ini.',
            '80-89': 'Hasil yang sangat baik! Anda telah menunjukkan pemahaman yang mendalam tentang sejarah.',
            '70-79': 'Kerja bagus! Anda memiliki pemahaman yang baik tentang materi sejarah ini.',
            '60-69': 'Hasil yang cukup baik. Tingkatkan lagi pemahaman Anda untuk hasil yang lebih baik.',
            '50-59': 'Anda sudah memahami dasar-dasarnya. Terus berlatih untuk meningkatkan pemahaman sejarah Anda.',
            '0-49': 'Jangan menyerah! Gunakan hasil ini sebagai motivasi untuk belajar sejarah lebih giat lagi.'
        };
        
        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize particles.js for background
            particlesJS('particles-js', {
                "particles": {
                    "number": {
                        "value": 80,
                        "density": {
                            "enable": true,
                            "value_area": 800
                        }
                    },
                    "color": {
                        "value": "#ffffff"
                    },
                    "shape": {
                        "type": "circle",
                        "stroke": {
                            "width": 0,
                            "color": "#000000"
                        },
                        "polygon": {
                            "nb_sides": 5
                        }
                    },
                    "opacity": {
                        "value": 0.5,
                        "random": false,
                        "anim": {
                            "enable": false,
                            "speed": 1,
                            "opacity_min": 0.1,
                            "sync": false
                        }
                    },
                    "size": {
                        "value": 3,
                        "random": true,
                        "anim": {
                            "enable": false,
                            "speed": 40,
                            "size_min": 0.1,
                            "sync": false
                        }
                    },
                    "line_linked": {
                        "enable": true,
                        "distance": 150,
                        "color": "#ffffff",
                        "opacity": 0.4,
                        "width": 1
                    },
                    "move": {
                        "enable": true,
                        "speed": 2,
                        "direction": "none",
                        "random": false,
                        "straight": false,
                        "out_mode": "out",
                        "bounce": false,
                        "attract": {
                            "enable": false,
                            "rotateX": 600,
                            "rotateY": 1200
                        }
                    }
                },
                "interactivity": {
                    "detect_on": "canvas",
                    "events": {
                        "onhover": {
                            "enable": true,
                            "mode": "grab"
                        },
                        "onclick": {
                            "enable": true,
                            "mode": "push"
                        },
                        "resize": true
                    },
                    "modes": {
                        "grab": {
                            "distance": 140,
                            "line_linked": {
                                "opacity": 1
                            }
                        },
                        "bubble": {
                            "distance": 400,
                            "size": 40,
                            "duration": 2,
                            "opacity": 8,
                            "speed": 3
                        },
                        "repulse": {
                            "distance": 200,
                            "duration": 0.4
                        },
                        "push": {
                            "particles_nb": 4
                        },
                        "remove": {
                            "particles_nb": 2
                        }
                    }
                },
                "retina_detect": true
            });
            
            // Initialize celebration particles (hidden by default)
            particlesJS('celebration-particles', {
                "particles": {
                    "number": {
                        "value": 150,
                        "density": {
                            "enable": true,
                            "value_area": 800
                        }
                    },
                    "color": {
                        "value": ["#FF0000", "#00FF00", "#0000FF", "#FFFF00", "#FF00FF", "#00FFFF"]
                    },
                    "shape": {
                        "type": ["circle", "triangle", "star"],
                        "stroke": {
                            "width": 0,
                            "color": "#000000"
                        },
                        "polygon": {
                            "nb_sides": 5
                        }
                    },
                    "opacity": {
                        "value": 0.7,
                        "random": true,
                        "anim": {
                            "enable": true,
                            "speed": 1,
                            "opacity_min": 0.1,
                            "sync": false
                        }
                    },
                    "size": {
                        "value": 5,
                        "random": true,
                        "anim": {
                            "enable": true,
                            "speed": 4,
                            "size_min": 0.3,
                            "sync": false
                        }
                    },
                    "line_linked": {
                        "enable": false
                    },
                    "move": {
                        "enable": true,
                        "speed": 6,
                        "direction": "none",
                        "random": true,
                        "straight": false,
                        "out_mode": "out",
                        "bounce": false,
                        "attract": {
                            "enable": false,
                            "rotateX": 600,
                            "rotateY": 1200
                        }
                    }
                },
                "interactivity": {
                    "detect_on": "canvas",
                    "events": {
                        "onhover": {
                            "enable": false
                        },
                        "onclick": {
                            "enable": false
                        },
                        "resize": true
                    }
                },
                "retina_detect": true
            });
            
            // Load admin settings
            loadAdminSettings();
            
            // Set greeting message from admin settings
            document.getElementById('greeting-text').textContent = adminSettings.greetingMessage;
            document.getElementById('admin-message').textContent = adminSettings.adminMessage;
            
            // Event listeners for buttons with sound
            document.querySelectorAll('button').forEach(button => {
                button.addEventListener('click', function() {
                    // Play button sound if not disabled
                    if (!this.disabled) {
                        buttonSound.currentTime = 0;
                        buttonSound.play().catch(e => console.log("Button sound prevented:", e));
                    }
                });
            });
            
            // Event listeners
            document.getElementById('login-btn').addEventListener('click', handleLogin);
            document.getElementById('agree-terms').addEventListener('change', toggleContinueButton);
            document.getElementById('continue-btn').addEventListener('click', showParticipantForm);
            
            // Status radio buttons
            document.querySelectorAll('input[name="status"]').forEach(radio => {
                radio.addEventListener('change', toggleParticipantFields);
            });
            
            // School level radio buttons
            document.querySelectorAll('input[name="level"]').forEach(radio => {
                radio.addEventListener('change', showGradeSelection);
            });
            
            document.getElementById('save-participant-btn').addEventListener('click', startExam);
            document.getElementById('finish-exam-btn').addEventListener('click', finishExam);
            document.getElementById('skip-question-btn').addEventListener('click', skipQuestion);
            document.getElementById('unanswered-btn').addEventListener('click', showUnansweredQuestions);
            document.getElementById('print-certificate-btn').addEventListener('click', printCertificate);
            document.getElementById('retake-exam-btn').addEventListener('click', retakeExam);
            
            // Floating buttons
            document.getElementById('whatsapp-btn').addEventListener('click', contactAdmin);
            document.getElementById('admin-panel-btn').addEventListener('click', showAdminPanelModal);
            
            // Modal close buttons
            document.getElementById('close-admin-panel-modal').addEventListener('click', hideAdminPanelModal);
            document.getElementById('close-edit-participant-modal').addEventListener('click', hideEditParticipantModal);
            
            // Modal submit buttons
            document.getElementById('submit-admin-panel-code').addEventListener('click', submitAdminPanelCode);
            
            // Check form validity when fields change
            document.getElementById('fullname').addEventListener('input', function() {
                // Convert input to uppercase automatically
                this.value = this.value.toUpperCase();
                checkParticipantFormValidity();
            });
            
            document.getElementById('school-name').addEventListener('input', checkParticipantFormValidity);
            document.getElementById('student-id').addEventListener('input', checkParticipantFormValidity);
            document.querySelectorAll('input[name="purpose"]').forEach(radio => {
                radio.addEventListener('change', checkParticipantFormValidity);
            });
            document.querySelectorAll('input[name="level"]').forEach(radio => {
                radio.addEventListener('change', checkParticipantFormValidity);
            });
            document.querySelectorAll('input[name="grade"]').forEach(radio => {
                radio.addEventListener('change', checkParticipantFormValidity);
            });
            document.querySelectorAll('input[name="subject"]').forEach(radio => {
                radio.addEventListener('change', checkParticipantFormValidity);
            });

            // Admin panel toggle switches
            document.querySelectorAll('.toggle-switch input').forEach(toggle => {
                toggle.addEventListener('change', function() {
                    const statusElement = document.getElementById(`${this.id}-status`);
                    statusElement.textContent = this.checked ? 'Aktif' : 'Nonaktif';
                });
            });

            // Admin panel buttons
            document.getElementById('save-codes-btn').addEventListener('click', saveCodes);
            document.getElementById('save-content-btn').addEventListener('click', saveContent);
            document.getElementById('save-settings-btn').addEventListener('click', saveSettings);
            
            // Participant management buttons
            document.getElementById('select-all-participants').addEventListener('click', toggleSelectAllParticipants);
            document.getElementById('edit-selected-participants').addEventListener('click', editSelectedParticipants);
            document.getElementById('delete-selected-participants').addEventListener('click', deleteSelectedParticipants);
            document.getElementById('validate-certificate-btn').addEventListener('click', validateCertificate);
            
            // Search functionality
            document.getElementById('participant-search').addEventListener('input', searchParticipants);
            
            // Edit participant form
            document.getElementById('save-edit-participant-btn').addEventListener('click', saveEditedParticipant);
            document.querySelectorAll('input[name="edit-status"]').forEach(radio => {
                radio.addEventListener('change', toggleEditParticipantFields);
            });
            document.querySelectorAll('input[name="edit-level"]').forEach(radio => {
                radio.addEventListener('change', showEditGradeSelection);
            });
            
            // Load participants data for admin panel
            loadParticipantsData();
            
            // Auto uppercase for edit fullname field
            document.getElementById('edit-fullname').addEventListener('input', function() {
                this.value = this.value.toUpperCase();
            });
        });
        
        // Functions
        function loadAdminSettings() {
            // Load exam duration
            document.getElementById('exam-duration').value = adminSettings.examDuration;
            
            // Load question count
            document.getElementById('question-count').value = adminSettings.questionCount;
            
            // Load randomize questions setting
            document.getElementById('randomize-questions').checked = adminSettings.randomizeQuestions;
            document.getElementById('randomize-status').textContent = adminSettings.randomizeQuestions ? 'Aktif' : 'Nonaktif';
            
            // Load greeting message
            document.getElementById('greeting-message-input').value = adminSettings.greetingMessage;
            
            // Load admin message
            document.getElementById('admin-message-input').value = adminSettings.adminMessage;
            
            // Load chairman name
            document.getElementById('chairman-name').value = adminSettings.chairmanName;
            
            // Load subject toggle
            document.getElementById('toggle-history').checked = adminSettings.enabledSubjects.Sejarah;
            document.getElementById('history-status').textContent = adminSettings.enabledSubjects.Sejarah ? 'Aktif' : 'Nonaktif';
        }
        
        function saveParticipantsData() {
            localStorage.setItem('participantsData', JSON.stringify(participantsData));
        }
        
        function saveAdminSettings() {
            localStorage.setItem('adminSettings', JSON.stringify(adminSettings));
        }
        
        function handleLogin() {
            const loginCode = document.getElementById('login-code').value;
            
            if (loginCode === adminSettings.loginCode) {
                // Play opening sound
                openingSound.play().catch(e => console.log("Opening sound prevented:", e));
                
                // Hide welcome screen with slide out animation
                document.getElementById('welcome-screen').classList.add('slide-out');
                
                // Show terms screen after animation completes
                setTimeout(() => {
                    document.getElementById('welcome-screen').style.display = 'none';
                    document.getElementById('terms-screen').style.display = 'block';
                    document.getElementById('terms-screen').classList.add('slide-in');
                    currentScreen = 'terms';
                }, 500);
            } else {
                alert('Kode login salah. Silakan coba lagi.');
            }
        }
        
        function toggleContinueButton() {
            const agreeCheckbox = document.getElementById('agree-terms');
            document.getElementById('continue-btn').disabled = !agreeCheckbox.checked;
        }
        
        function showParticipantForm() {
            // Hide terms screen with slide out animation
            document.getElementById('terms-screen').classList.add('slide-out');
            
            // Show participant form after animation completes
            setTimeout(() => {
                document.getElementById('terms-screen').style.display = 'none';
                document.getElementById('participant-form').style.display = 'block';
                document.getElementById('participant-form').classList.add('slide-in');
                currentScreen = 'participant';
            }, 500);
        }
        
        function toggleParticipantFields() {
            // Only student status is available now
            document.getElementById('student-fields').style.display = 'block';
            checkParticipantFormValidity();
        }
        
        function showGradeSelection() {
            const level = document.querySelector('input[name="level"]:checked').value;
            const gradeOptions = document.getElementById('grade-options');
            
            // Clear previous options
            gradeOptions.innerHTML = '';
            
            // Add options based on level
            if (level === 'SD') {
                addGradeOption('grade-4', 'Kelas <span class="roman">IV</span>', '4');
                addGradeOption('grade-5', 'Kelas <span class="roman">V</span>', '5');
                addGradeOption('grade-6', 'Kelas <span class="roman">VI</span>', '6');
            } else if (level === 'SMP') {
                addGradeOption('grade-7', 'Kelas <span class="roman">VII</span>', '7');
                addGradeOption('grade-8', 'Kelas <span class="roman">VIII</span>', '8');
                addGradeOption('grade-9', 'Kelas <span class="roman">IX</span>', '9');
            } else if (level === 'SMA/SMK') {
                addGradeOption('grade-10', 'Kelas <span class="roman">X</span>', '10');
                addGradeOption('grade-11', 'Kelas <span class="roman">XI</span>', '11');
                addGradeOption('grade-12', 'Kelas <span class="roman">XII</span>', '12');
            }
            
            document.getElementById('grade-selection').style.display = 'block';
            checkParticipantFormValidity();
        }
        
        function addGradeOption(id, label, value) {
            const container = document.getElementById('grade-options');
            
            const radio = document.createElement('input');
            radio.type = 'radio';
            radio.id = id;
            radio.name = 'grade';
            radio.value = value;
            radio.className = 'radio-option';
            
            const radioLabel = document.createElement('label');
            radioLabel.htmlFor = id;
            radioLabel.className = 'radio-label';
            radioLabel.innerHTML = label;
            
            // Add event listener for grade selection
            radio.addEventListener('change', function() {
                document.getElementById('subject-selection').style.display = 'block';
                checkParticipantFormValidity();
            });
            
            container.appendChild(radio);
            container.appendChild(radioLabel);
        }
        
        function checkParticipantFormValidity() {
            let isValid = true;
            
            // Check common fields
            const fullname = document.getElementById('fullname').value.trim();
            if (!fullname || !/^[A-Za-z ]+$/.test(fullname)) {
                isValid = false;
            }
            
            // Check student fields
            if (!document.getElementById('school-name').value.trim()) {
                isValid = false;
            }
            
            const studentId = document.getElementById('student-id').value.trim();
            if (!studentId || !/^[0-9]+$/.test(studentId)) {
                isValid = false;
            }
            
            if (!document.querySelector('input[name="purpose"]:checked')) {
                isValid = false;
            }
            
            if (!document.querySelector('input[name="level"]:checked')) {
                isValid = false;
            }
            
            if (!document.querySelector('input[name="grade"]:checked')) {
                isValid = false;
            }
            
            if (!document.querySelector('input[name="subject"]:checked')) {
                isValid = false;
            }
            
            document.getElementById('save-participant-btn').disabled = !isValid;
        }
        
        function startExam() {
            // Collect participant data
            participantData = {
                fullname: document.getElementById('fullname').value.trim(),
                status: 'pelajar',
                purpose: document.querySelector('input[name="purpose"]:checked')?.value,
                level: document.querySelector('input[name="level"]:checked')?.value,
                grade: document.querySelector('input[name="grade"]:checked')?.value,
                subject: document.querySelector('input[name="subject"]:checked')?.value,
                school: document.getElementById('school-name')?.value.trim(),
                studentId: document.getElementById('student-id')?.value.trim(),
                examDate: new Date().toISOString()
            };
            
            // Load questions based on level - hanya Sejarah
            if (participantData.level && QUESTION_BANK[participantData.level]['Sejarah']) {
                questions = QUESTION_BANK[participantData.level]['Sejarah'];
            } else {
                // Default questions
                questions = QUESTION_BANK['SD']['Sejarah'];
            }
            
            // Randomize questions if setting is enabled
            if (adminSettings.randomizeQuestions) {
                questions = shuffleArray(questions).slice(0, adminSettings.questionCount);
            } else {
                questions = questions.slice(0, adminSettings.questionCount);
            }
            
            // Initialize exam data
            examData = {
                startTime: new Date(),
                answered: 0,
                correct: 0,
                wrong: 0,
                unanswered: questions.length,
                answers: Array(questions.length).fill(null)
            };
            
            // Set exam time from admin settings
            examTimeLeft = adminSettings.examDuration * 60;
            
            // Hide participant form with slide out animation
            document.getElementById('participant-form').classList.add('slide-out');
            
            // Show exam screen after animation completes
            setTimeout(() => {
                document.getElementById('participant-form').style.display = 'none';
                document.getElementById('exam-screen').style.display = 'block';
                document.getElementById('exam-screen').classList.add('slide-in');
                currentScreen = 'exam';
                
                // Start timer
                startTimer();
                
                // Load first question
                loadQuestion(0);
            }, 500);
        }
        
        function shuffleArray(array) {
            const newArray = [...array];
            for (let i = newArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
            }
            return newArray;
        }
        
        function startTimer() {
            // Update timer display immediately
            updateTimerDisplay();
            
            // Start timer interval
            examTimer = setInterval(function() {
                examTimeLeft--;
                updateTimerDisplay();
                
                // Check if time is up
                if (examTimeLeft <= 0) {
                    clearInterval(examTimer);
                    finishExam();
                }
                
                // Show warning when 10 minutes left
                if (examTimeLeft === 600) { // 10 minutes = 600 seconds
                    showTimeWarning();
                }
                
                // Hide warning when 1 minute left
                if (examTimeLeft === 60) {
                    hideTimeWarning();
                }
            }, 1000);
        }
        
        function updateTimerDisplay() {
            const hours = Math.floor(examTimeLeft / 3600);
            const minutes = Math.floor((examTimeLeft % 3600) / 60);
            const seconds = examTimeLeft % 60;
            
            const timerElement = document.getElementById('exam-timer');
            timerElement.textContent = `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            
            // Change style based on remaining time
            if (examTimeLeft <= 600) { // 10 minutes or less
                timerElement.classList.add('timer-warning');
                
                if (examTimeLeft <= 60) { // 1 minute or less
                    timerElement.classList.remove('timer-warning');
                    timerElement.classList.add('timer-danger');
                }
            } else {
                timerElement.classList.remove('timer-warning', 'timer-danger');
            }
        }
        
        function showTimeWarning() {
            const notification = document.getElementById('time-warning');
            notification.style.display = 'block';
            
            // Auto hide after 9 minutes (540 seconds)
            setTimeout(() => {
                notification.style.display = 'none';
            }, 540 * 1000);
        }
        
        function hideTimeWarning() {
            document.getElementById('time-warning').style.display = 'none';
        }
        
        function loadQuestion(index) {
            if (index < 0 || index >= questions.length) return;
            
            currentQuestionIndex = index;
            const question = questions[index];
            
            // Update question text
            document.getElementById('question-text').textContent = `Soal ${index + 1}: ${question.question}`;
            
            // Clear previous image if exists
            const imageContainer = document.getElementById('question-image-container');
            imageContainer.innerHTML = '';
            
            // Add image if exists
            if (question.image) {
                const img = document.createElement('img');
                img.src = question.image;
                img.style.maxWidth = '100%';
                img.style.maxHeight = '200px';
                img.style.marginBottom = '15px';
                img.style.display = 'block';
                imageContainer.appendChild(img);
            }
            
            // Clear previous options
            const optionsContainer = document.getElementById('options-container');
            optionsContainer.innerHTML = '';
            
            // Add new options
            question.options.forEach((option, i) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                optionElement.textContent = option;
                
                // Check if this question was already answered
                if (examData.answers[index] !== null) {
                    if (examData.answers[index] === i) {
                        if (i === question.correctAnswer) {
                            optionElement.classList.add('correct');
                        } else {
                            optionElement.classList.add('incorrect');
                        }
                    } else if (i === question.correctAnswer) {
                        optionElement.classList.add('correct');
                    }
                    
                    // Show explanation if answered
                    document.getElementById('explanation-text').style.display = 'block';
                    document.getElementById('explanation-text').innerHTML = `<strong>Penjelasan:</strong> ${question.explanation}`;
                } else {
                    // Add click event for unanswered questions
                    optionElement.addEventListener('click', function() {
                        selectAnswer(index, i);
                    });
                }
                
                optionsContainer.appendChild(optionElement);
            });
            
            // Hide explanation if question not answered
            if (examData.answers[index] === null) {
                document.getElementById('explanation-text').style.display = 'none';
            }
        }
        
        function selectAnswer(questionIndex, answerIndex) {
            const question = questions[questionIndex];
            
            // Record answer
            examData.answers[questionIndex] = answerIndex;
            
            // Update counters
            examData.answered++;
            examData.unanswered--;
            
            if (answerIndex === question.correctAnswer) {
                examData.correct++;
                // Play correct answer sound
                correctAnswerSound.currentTime = 0;
                correctAnswerSound.play().catch(e => console.log("Correct answer sound prevented:", e));
            } else {
                examData.wrong++;
                // Play wrong answer sound
                wrongAnswerSound.currentTime = 0;
                wrongAnswerSound.play().catch(e => console.log("Wrong answer sound prevented:", e));
            }
            
            // Reload question to show result
            loadQuestion(questionIndex);
            
            // Auto move to next question after delay if not last question
            if (questionIndex < questions.length - 1) {
                setTimeout(() => {
                    loadQuestion(questionIndex + 1);
                }, 2000);
            }
        }
        
        function skipQuestion() {
            if (currentQuestionIndex < questions.length - 1) {
                loadQuestion(currentQuestionIndex + 1);
            }
        }
        
        function showUnansweredQuestions() {
            // Find first unanswered question
            const unansweredIndex = examData.answers.findIndex(answer => answer === null);
            
            if (unansweredIndex !== -1) {
                loadQuestion(unansweredIndex);
            } else {
                alert('Semua soal sudah dijawab.');
            }
        }
        
        function finishExam() {
            clearInterval(examTimer);
            
            // Calculate unanswered questions
            examData.unanswered = examData.answers.filter(answer => answer === null).length;
            
            // Generate certificate code
            const certificateCode = generateUniqueCode();
            
            // Add participant to data store
            const score = Math.round((examData.correct / questions.length) * 100);
            participantsData.push({
                ...participantData,
                score: score,
                examDate: new Date().toISOString(),
                certificateCode: certificateCode
            });
            saveParticipantsData();
            
            // Hide exam screen with slide out animation
            document.getElementById('exam-screen').classList.add('slide-out');
            
            // Show results screen after animation completes
            setTimeout(() => {
                document.getElementById('exam-screen').style.display = 'none';
                document.getElementById('results-screen').style.display = 'block';
                document.getElementById('results-screen').classList.add('slide-in');
                currentScreen = 'results';
                
                // Display results
                displayResults();
                
                // Generate certificate
                generateCertificate(certificateCode);
                
                // Show celebration particles
                showCelebration();
                
                // Play certificate sound (applause)
                certificateSound.currentTime = 0;
                certificateSound.play().catch(e => console.log("Certificate sound prevented:", e));
            }, 500);
        }
        
        function displayResults() {
            document.getElementById('result-name').textContent = participantData.fullname;
            document.getElementById('result-status').textContent = 'Pelajar';
            document.getElementById('result-level').textContent = participantData.level || '-';
            document.getElementById('result-grade').textContent = participantData.grade ? `Kelas ${participantData.grade}` : '-';
            document.getElementById('result-subject').textContent = participantData.subject || '-';
            document.getElementById('total-questions').textContent = questions.length;
            document.getElementById('correct-answers').textContent = examData.correct;
            document.getElementById('wrong-answers').textContent = examData.wrong;
            document.getElementById('unanswered-questions').textContent = examData.unanswered;
            
            // Calculate score (percentage)
            const score = Math.round((examData.correct / questions.length) * 100);
            document.getElementById('exam-score').textContent = `${score}%`;
        }
        
        function generateCertificate(certificateCode) {
            const certificateContainer = document.getElementById('certificate-container');
            certificateContainer.innerHTML = '';
            
            // Calculate score
            const score = Math.round((examData.correct / questions.length) * 100);
            
            // Get current date
            const now = new Date();
            const dateString = now.toLocaleDateString('id-ID', {
                day: '2-digit',
                month: '2-digit',
                year: 'numeric'
            }).replace(/\//g, '');
            
            // Get motivational message based on score
            let motivation = '';
            for (const range in MOTIVATIONAL_MESSAGES) {
                const [min, max] = range.split('-').map(Number);
                if (score >= min && score <= max) {
                    motivation = MOTIVATIONAL_MESSAGES[range];
                    break;
                }
            }
            
            // Create certificate HTML
            const certificate = document.createElement('div');
            certificate.className = 'certificate';
            
            certificate.innerHTML = `
                <div class="certificate-content">
                    <h1 class="certificate-title">SERTIFIKAT PRESTASI</h1>
                    <p class="certificate-code">${formatName(participantData.fullname)}/PELAJAR/${participantData.level || 'UMUM'}/${participantData.subject || 'UMUM'}/${dateString}/${certificateCode}/PERGUNU-STB</p>
                    <p>Diberikan Kepada</p>
                    <h2 class="certificate-recipient">${formatName(participantData.fullname)}</h2>
                    <p class="certificate-body">
                        Atas Partisipasi & Pencapaian Luar Biasa Dalam<br>
                        Ujian Sejarah Pergunu Situbondo
                    </p>
                    <p class="certificate-body">
                        Sebagai penghargaan atas dedikasi dalam memahami materi sejarah dan mengasah pengetahuan sejarah,
                        sertifikat ini diberikan sebagai motivasi untuk terus belajar dari masa lalu.
                    </p>
                    <div class="certificate-score">Nilai: ${score}%</div>
                    <p class="certificate-motivation">${motivation}</p>
                    <div class="certificate-footer">
                        <p>Ditetapkan di: Situbondo, ${now.toLocaleDateString('id-ID', { day: 'numeric', month: 'long', year: 'numeric' })}</p>
                        <div class="certificate-signature">
                            <p>Ketua Pergunu Situbondo</p>
                            <p><strong>${adminSettings.chairmanName}</strong></p>
                        </div>
                        <img src="https://raw.githubusercontent.com/pergunu/ujian-online/main/assets/images/BARCODE.png" alt="Barcode" class="certificate-barcode">
                    </div>
                </div>
            `;
            
            certificateContainer.appendChild(certificate);
            certificateContainer.style.display = 'block';
        }
        
        function showCelebration() {
            // Show celebration particles
            document.getElementById('celebration-particles').style.display = 'block';
            
            // Hide after 5 seconds
            setTimeout(() => {
                document.getElementById('celebration-particles').style.display = 'none';
            }, 5000);
        }
        
        function formatName(name) {
            return name.split(' ').map(word => 
                word.charAt(0).toUpperCase() + word.slice(1).toLowerCase()
            ).join(' ');
        }
        
        function generateUniqueCode() {
            const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
            let result = '';
            
            for (let i = 0; i < 4; i++) {
                result += chars.charAt(Math.floor(Math.random() * chars.length));
            }
            
            result += '-';
            
            for (let i = 0; i < 4; i++) {
                result += chars.charAt(Math.floor(Math.random() * chars.length));
            }
            
            return result;
        }
        
        function printCertificate() {
            // Hide floating buttons
            document.querySelector('.floating-buttons').style.display = 'none';
            
            // Hide other elements in results screen
            document.querySelector('.results-summary').style.display = 'none';
            document.querySelector('.result-actions').style.display = 'none';
            
            // Print the certificate
            window.print();
            
            // Show elements again after printing
            setTimeout(() => {
                document.querySelector('.floating-buttons').style.display = 'flex';
                document.querySelector('.results-summary').style.display = 'block';
                document.querySelector('.result-actions').style.display = 'block';
            }, 500);
        }
        
        function retakeExam() {
            // Hide results screen with slide out animation
            document.getElementById('results-screen').classList.add('slide-out');
            
            // Show participant form after animation completes
            setTimeout(() => {
                document.getElementById('results-screen').style.display = 'none';
                document.getElementById('participant-form').style.display = 'block';
                document.getElementById('participant-form').classList.add('slide-in');
                currentScreen = 'participant';
                
                // Reset timer
                examTimeLeft = adminSettings.examDuration * 60;
            }, 500);
        }
        
        function contactAdmin() {
            const message = encodeURIComponent("Assalamualaikum mas admin, saya mau tanya sesuatu nih...");
            window.open(`https://wa.me/6285647709114?text=${message}`, '_blank');
        }
        
        function showAdminPanelModal() {
            document.getElementById('admin-panel-modal').style.display = 'flex';
        }
        
        function hideAdminPanelModal() {
            document.getElementById('admin-panel-modal').style.display = 'none';
        }
        
        function submitAdminPanelCode() {
            const code = document.getElementById('admin-panel-code').value;
            
            if (code === adminSettings.adminCode) {
                // Show admin panel content
                document.getElementById('admin-panel-content').style.display = 'block';
            } else {
                alert('Kode admin salah. Silakan coba lagi.');
            }
        }

        function loadParticipantsData() {
            const tableBody = document.getElementById('participants-table-body');
            tableBody.innerHTML = '';
            
            if (participantsData.length === 0) {
                tableBody.innerHTML = '<tr><td colspan="10" style="text-align: center;">Belum ada data peserta</td></tr>';
                return;
            }
            
            // Sort by date (newest first)
            const sortedData = [...participantsData].sort((a, b) => 
                new Date(b.examDate) - new Date(a.examDate));
            
            sortedData.forEach((participant, index) => {
                const date = new Date(participant.examDate);
                const dateStr = date.toLocaleDateString('id-ID', {
                    day: '2-digit',
                    month: '2-digit',
                    year: 'numeric',
                    hour: '2-digit',
                    minute: '2-digit'
                });
                
                const row = document.createElement('tr');
                row.dataset.index = index;
                row.innerHTML = `
                    <td>
                        <input type="checkbox" class="select-checkbox" data-index="${index}" onchange="toggleParticipantSelection(${index})">
                    </td>
                    <td>${dateStr}</td>
                    <td>${participant.fullname}</td>
                    <td>${participant.studentId || '-'}</td>
                    <td>Pelajar</td>
                    <td>${participant.level || '-'}</td>
                    <td>${participant.grade ? `Kelas ${participant.grade}` : '-'}</td>
                    <td>${participant.subject || '-'}</td>
                    <td>${participant.score}%</td>
                    <td>${participant.certificateCode || '-'}</td>
                `;
                
                tableBody.appendChild(row);
            });
            
            // Reset selected participants
            selectedParticipants = [];
            updateParticipantActionButtons();
        }
        
        function toggleParticipantSelection(index) {
            const checkbox = document.querySelector(`.select-checkbox[data-index="${index}"]`);
            if (checkbox.checked) {
                if (!selectedParticipants.includes(index)) {
                    selectedParticipants.push(index);
                }
            } else {
                selectedParticipants = selectedParticipants.filter(i => i !== index);
            }
            
            // Update select all checkbox
            updateSelectAllCheckbox();
            
            // Update action buttons
            updateParticipantActionButtons();
        }
        
        function toggleSelectAllParticipants() {
            const selectAllCheckbox = document.getElementById('select-all-checkbox');
            const checkboxes = document.querySelectorAll('.select-checkbox');
            
            selectAllCheckbox.checked = !selectAllCheckbox.checked;
            const isChecked = selectAllCheckbox.checked;
            
            checkboxes.forEach(checkbox => {
                checkbox.checked = isChecked;
                const index = parseInt(checkbox.dataset.index);
                
                if (isChecked) {
                    if (!selectedParticipants.includes(index)) {
                        selectedParticipants.push(index);
                    }
                } else {
                    selectedParticipants = selectedParticipants.filter(i => i !== index);
                }
            });
            
            // Update action buttons
            updateParticipantActionButtons();
        }
        
        function updateSelectAllCheckbox() {
            const checkboxes = document.querySelectorAll('.select-checkbox');
            const selectAllCheckbox = document.getElementById('select-all-checkbox');
            
            if (checkboxes.length === 0) {
                selectAllCheckbox.checked = false;
                return;
            }
            
            const allChecked = Array.from(checkboxes).every(checkbox => checkbox.checked);
            selectAllCheckbox.checked = allChecked;
        }
        
        function updateParticipantActionButtons() {
            const hasSelection = selectedParticipants.length > 0;
            
            document.getElementById('edit-selected-participants').disabled = !hasSelection;
            document.getElementById('delete-selected-participants').disabled = !hasSelection;
        }
        
        function editSelectedParticipants() {
            if (selectedParticipants.length === 0) return;
            
            // For now, we'll just edit the first selected participant
            // In a real app, you might want to implement bulk editing
            const index = selectedParticipants[0];
            editParticipant(index);
        }
        
        function editParticipant(index) {
            const participant = participantsData[index];
            
            // Fill the edit form
            document.getElementById('edit-fullname').value = participant.fullname;
            
            // Set status to student (only option now)
            document.getElementById('edit-status-student').checked = true;
            document.getElementById('edit-student-fields').style.display = 'block';
            
            // Fill student fields
            document.getElementById('edit-school-name').value = participant.school || '';
            document.getElementById('edit-student-id').value = participant.studentId || '';
            
            // Set purpose
            if (participant.purpose) {
                const purposeRadio = document.querySelector(`input[name="edit-purpose"][value="${participant.purpose}"]`);
                if (purposeRadio) purposeRadio.checked = true;
            }
            
            // Set level
            if (participant.level) {
                const levelRadio = document.querySelector(`input[name="edit-level"][value="${participant.level}"]`);
                if (levelRadio) levelRadio.checked = true;
                
                // Show grade selection
                showEditGradeSelection();
                
                // Set grade
                if (participant.grade) {
                    const gradeRadio = document.querySelector(`input[name="edit-grade"][value="${participant.grade}"]`);
                    if (gradeRadio) gradeRadio.checked = true;
                }
            }
            
            // Set subject
            if (participant.subject) {
                document.getElementById('edit-subject').value = participant.subject;
            }
            
            // Set score
            document.getElementById('edit-score').value = participant.score;
            
            // Set certificate code
            document.getElementById('edit-certificate-code').value = participant.certificateCode || '-';
            
            // Store index for saving
            document.getElementById('edit-participant-index').value = index;
            
            // Show the modal
            document.getElementById('edit-participant-modal').style.display = 'flex';
        }
        
        function toggleEditParticipantFields() {
            // Only student status is available now
            document.getElementById('edit-student-fields').style.display = 'block';
        }
        
        function showEditGradeSelection() {
            const level = document.querySelector('input[name="edit-level"]:checked')?.value;
            const gradeOptions = document.getElementById('edit-grade-options');
            
            // Clear previous options
            gradeOptions.innerHTML = '';
            
            if (!level) return;
            
            // Add options based on level
            if (level === 'SD') {
                addEditGradeOption('edit-grade-4', 'Kelas <span class="roman">IV</span>', '4');
                addEditGradeOption('edit-grade-5', 'Kelas <span class="roman">V</span>', '5');
                addEditGradeOption('edit-grade-6', 'Kelas <span class="roman">VI</span>', '6');
            } else if (level === 'SMP') {
                addEditGradeOption('edit-grade-7', 'Kelas <span class="roman">VII</span>', '7');
                addEditGradeOption('edit-grade-8', 'Kelas <span class="roman">VIII</span>', '8');
                addEditGradeOption('edit-grade-9', 'Kelas <span class="roman">IX</span>', '9');
            } else if (level === 'SMA/SMK') {
                addEditGradeOption('edit-grade-10', 'Kelas <span class="roman">X</span>', '10');
                addEditGradeOption('edit-grade-11', 'Kelas <span class="roman">XI</span>', '11');
                addEditGradeOption('edit-grade-12', 'Kelas <span class="roman">XII</span>', '12');
            }
        }
        
        function addEditGradeOption(id, label, value) {
            const container = document.getElementById('edit-grade-options');
            
            const radio = document.createElement('input');
            radio.type = 'radio';
            radio.id = id;
            radio.name = 'edit-grade';
            radio.value = value;
            radio.className = 'radio-option';
            
            const radioLabel = document.createElement('label');
            radioLabel.htmlFor = id;
            radioLabel.className = 'radio-label';
            radioLabel.innerHTML = label;
            
            container.appendChild(radio);
            container.appendChild(radioLabel);
        }
        
        function saveEditedParticipant() {
            const index = document.getElementById('edit-participant-index').value;
            if (!index) return;
            
            const participant = participantsData[index];
            
            // Update participant data
            participant.fullname = document.getElementById('edit-fullname').value.trim();
            participant.status = 'pelajar';
            participant.school = document.getElementById('edit-school-name').value.trim();
            participant.studentId = document.getElementById('edit-student-id').value.trim();
            participant.purpose = document.querySelector('input[name="edit-purpose"]:checked')?.value || '';
            participant.level = document.querySelector('input[name="edit-level"]:checked')?.value || '';
            participant.grade = document.querySelector('input[name="edit-grade"]:checked')?.value || '';
            participant.subject = document.getElementById('edit-subject').value;
            participant.score = parseInt(document.getElementById('edit-score').value);
            
            // Save to localStorage
            saveParticipantsData();
            
            // Reload participants data
            loadParticipantsData();
            
            // Hide modal
            hideEditParticipantModal();
            
            alert('Perubahan data peserta berhasil disimpan!');
        }
        
        function hideEditParticipantModal() {
            document.getElementById('edit-participant-modal').style.display = 'none';
        }
        
        function deleteSelectedParticipants() {
            if (selectedParticipants.length === 0) return;
            
            if (!confirm(`Apakah Anda yakin ingin menghapus ${selectedParticipants.length} peserta terpilih?`)) {
                return;
            }
            
            // Sort in descending order to avoid index issues when deleting
            const sortedIndices = [...selectedParticipants].sort((a, b) => b - a);
            
            // Delete participants
            sortedIndices.forEach(index => {
                participantsData.splice(index, 1);
            });
            
            // Save to localStorage
            saveParticipantsData();
            
            // Reload participants data
            loadParticipantsData();
            
            alert(`${sortedIndices.length} peserta berhasil dihapus!`);
        }
        
        function searchParticipants() {
            const searchTerm = document.getElementById('participant-search').value.toLowerCase();
            const rows = document.querySelectorAll('#participants-table-body tr');
            
            rows.forEach(row => {
                const index = parseInt(row.dataset.index);
                const participant = participantsData[index];
                const rowText = `
                    ${participant.fullname.toLowerCase()} 
                    ${participant.studentId || ''} 
                    ${participant.certificateCode || ''}
                `;
                
                if (rowText.includes(searchTerm)) {
                    row.style.display = '';
                } else {
                    row.style.display = 'none';
                }
            });
        }
        
        function validateCertificate() {
            const code = document.getElementById('certificate-code-input').value.trim();
            const validationResult = document.getElementById('validation-result');
            
            if (!code) {
                alert('Silakan masukkan kode sertifikat');
                return;
            }
            
            // Find participant with this certificate code
            const participant = participantsData.find(p => p.certificateCode === code);
            
            if (participant) {
                validationResult.innerHTML = `
                    <p class="valid-certificate">Sertifikat Valid!</p>
                    <p>Nama: ${participant.fullname}</p>
                    <p>Status: Pelajar</p>
                    <p>Tingkat: ${participant.level || '-'}</p>
                    <p>Kelas: ${participant.grade ? `Kelas ${participant.grade}` : '-'}</p>
                    <p>Mata Ujian: ${participant.subject || '-'}</p>
                    <p>Nilai: ${participant.score}%</p>
                    <p>Tanggal Ujian: ${new Date(participant.examDate).toLocaleDateString('id-ID')}</p>
                `;
                validationResult.style.display = 'block';
            } else {
                validationResult.innerHTML = '<p class="invalid-certificate">Sertifikat Tidak Valid!</p>';
                validationResult.style.display = 'block';
            }
        }
        
        function saveCodes() {
            const newLoginCode = document.getElementById('new-login-code').value;
            const newAdminCode = document.getElementById('new-admin-code').value;
            
            if (newLoginCode) {
                adminSettings.loginCode = newLoginCode;
                document.getElementById('new-login-code').value = '';
            }
            
            if (newAdminCode) {
                adminSettings.adminCode = newAdminCode;
                document.getElementById('new-admin-code').value = '';
            }
            
            // Save to localStorage
            saveAdminSettings();
            
            alert('Kode berhasil diubah!');
        }
        
        function saveContent() {
            const greetingMessage = document.getElementById('greeting-message-input').value;
            const adminMessage = document.getElementById('admin-message-input').value;
            const chairmanName = document.getElementById('chairman-name').value;
            
            // Update admin settings
            adminSettings.greetingMessage = greetingMessage;
            adminSettings.adminMessage = adminMessage;
            adminSettings.chairmanName = chairmanName;
            
            // Update UI
            document.getElementById('greeting-text').textContent = greetingMessage;
            document.getElementById('admin-message').textContent = adminMessage;
            
            // Save to localStorage
            saveAdminSettings();
            
            alert('Perubahan konten berhasil disimpan!');
        }
        
        function saveSettings() {
            const examDuration = parseInt(document.getElementById('exam-duration').value);
            const questionCount = parseInt(document.getElementById('question-count').value);
            const randomizeQuestions = document.getElementById('randomize-questions').checked;
            
            // Update admin settings
            adminSettings.examDuration = examDuration;
            adminSettings.questionCount = questionCount;
            adminSettings.randomizeQuestions = randomizeQuestions;
            
            // Update subject toggle
            adminSettings.enabledSubjects = {
                Sejarah: document.getElementById('toggle-history').checked
            };
            
            // Save to localStorage
            saveAdminSettings();
            
            alert('Pengaturan berhasil disimpan!');
        }
    </script>
</body>
</html>
